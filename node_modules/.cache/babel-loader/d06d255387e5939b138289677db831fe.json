{"ast":null,"code":"/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport * as tslib_1 from \"tslib\";\nimport { BaseDataSource } from \"./BaseDataSource\";\nimport { Base, typeCast, Array_$type, Number_$type, fromEnum, markType } from \"./type\";\nimport { RearrangedListView } from \"./RearrangedListView\";\nimport { DataSourcePropertiesComparer } from \"./DataSourcePropertiesComparer\";\nimport { List$1 } from \"./List$1\";\nimport { DataSourceExecutionContext } from \"./DataSourceExecutionContext\";\nimport { DataSourceLocalDataProvider } from \"./DataSourceLocalDataProvider\";\nimport { DataSourceSpecialRow } from \"./DataSourceSpecialRow\";\nimport { ISupportsDataChangeNotifications_$type } from \"./ISupportsDataChangeNotifications\";\nimport { TransactionType, TransactionType_$type } from \"./TransactionType\";\nimport { ISupportsExpansionChangeNotifications_$type } from \"./ISupportsExpansionChangeNotifications\";\n/**\n * @hidden\n */\n\nvar LocalDataSource =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  tslib_1.__extends(LocalDataSource, _super);\n\n  function LocalDataSource() {\n    var _this = _super.call(this) || this;\n\n    _this.cr = null;\n    _this.cq = null;\n    _this.dr = null;\n    _this.cw = null;\n    _this.c0 = null;\n    _this.c2 = null;\n    _this.cy = null;\n    _this.dc = new List$1(Array_$type, 0);\n    _this.c3 = false;\n    _this.cp = null;\n    _this.dk = -1;\n    _this.dd = -1;\n    _this.dm = -1;\n    _this.df = -1;\n    _this.dn = -1;\n    _this.dg = -1;\n    _this.dl = -1;\n    _this.de = -1;\n    _this.dq = -1;\n    _this.dp = -1;\n    _this.di = -1;\n    _this.dh = -1;\n    _this.dj = -1;\n    _this.executionContext = new DataSourceExecutionContext();\n    _this.t.l = false;\n    return _this;\n  }\n\n  LocalDataSource.prototype.get_actualBaseDataProvider = function () {\n    return this.actualDataProvider;\n  };\n\n  Object.defineProperty(LocalDataSource.prototype, \"actualBaseDataProvider\", {\n    get: function () {\n      return this.get_actualBaseDataProvider();\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(LocalDataSource.prototype, \"dataProvider\", {\n    get: function () {\n      return this.cr;\n    },\n    set: function (a) {\n      var b = this.cr;\n      this.cr = a;\n\n      if (b != this.cr) {\n        this.onPropertyUpdated(\"DataProvider\", b, this.cr);\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(LocalDataSource.prototype, \"actualDataProvider\", {\n    get: function () {\n      if (this.cq == null) {\n        this.actualDataProvider = this.resolveDataProvider();\n      }\n\n      return this.cq;\n    },\n    set: function (a) {\n      var b = this.cq;\n      this.cq = a;\n\n      if (b != this.cq) {\n        this.onPropertyUpdated(\"ActualDataProvider\", b, this.cq);\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(LocalDataSource.prototype, \"dataSource\", {\n    get: function () {\n      return this.dr;\n    },\n    set: function (a) {\n      var b = this.dr;\n      this.dr = a;\n\n      if (b != this.dr) {\n        this.onPropertyUpdated(\"ItemsSource\", b, this.dr);\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  LocalDataSource.prototype.canInitialize = function () {\n    var a = _super.prototype.canInitialize.call(this);\n\n    if (!a) {\n      return false;\n    }\n\n    return this.dataSource != null;\n  };\n\n  Object.defineProperty(LocalDataSource.prototype, \"cx\", {\n    get: function () {\n      return this.cw;\n    },\n    set: function (a) {\n      this.cw = a;\n      this.actualDataProvider = this.resolveDataProvider();\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  LocalDataSource.prototype.resolveDataProvider = function () {\n    var provider_ = new DataSourceLocalDataProvider();\n    provider_.executionContext = new DataSourceExecutionContext();\n    return provider_;\n  };\n\n  LocalDataSource.prototype.propertyUpdatedOverride = function (a, b, c) {\n    _super.prototype.propertyUpdatedOverride.call(this, a, b, c);\n\n    switch (a) {\n      case \"DataProvider\":\n        this.actualDataProvider = this.dataProvider;\n        break;\n\n      case \"ActualDataProvider\":\n        if (this.actualDataProvider != null) {\n          this.actualDataProvider.dataSource = this.dataSource;\n          this.actualSchema = this.actualDataProvider.actualSchema;\n          this.actualCount = this.resolveFullCount(this.actualDataProvider.actualCount);\n        }\n\n        this.queueAutoRefresh();\n        break;\n\n      case \"ItemsSource\":\n        if (this.actualDataProvider != null) {\n          this.actualDataProvider.dataSource = this.dataSource;\n          this.actualSchema = this.actualDataProvider.actualSchema;\n          this.actualCount = this.resolveFullCount(this.actualDataProvider.actualCount);\n        }\n\n        this.queueAutoRefresh();\n        break;\n    }\n  };\n\n  LocalDataSource.prototype.getItemAtIndex = function (a) {\n    if (this.c0 != null && this.c0.a6 != null) {\n      return this.c0.a6.item(a);\n    } else {\n      return this.actualDataProvider.getItemAtIndex(a);\n    }\n  };\n\n  LocalDataSource.prototype.getItemPropertyAtIndex = function (a, b) {\n    var c;\n\n    if (this.c0 != null) {\n      c = this.c0.a6.item(a);\n    } else {\n      c = this.actualDataProvider.getItemAtIndex(a);\n    }\n\n    var item_ = c;\n\n    if (item_ != null && item_.$$isSpecialRow !== undefined) {\n      return this.getSpecialRowItemValue(c, b);\n    }\n\n    if (this.ao()) {\n      var d = this.al(c, b);\n\n      if (d) {\n        var e = this.ax(c, b);\n        return e;\n      }\n    }\n\n    return this.actualDataProvider.getItemValue(c, b);\n  };\n\n  LocalDataSource.prototype.cv = function () {\n    return this.actualDataProvider;\n  };\n\n  LocalDataSource.prototype.c5 = function () {\n    return this.dc != null && this.dc.count > 0;\n  };\n\n  LocalDataSource.prototype.refreshInternalOverride = function () {\n    _super.prototype.refreshInternalOverride.call(this);\n\n    if (this.actualDataProvider != null) {\n      if (this.c6() || this.c7() || this.c8() || this.c9() || this.c5()) {\n        if (this.c0 == null) {\n          if (this.c2 == null) {\n            this.c2 = new LocalDataSourceViewUpdateNotifier(this);\n          }\n\n          this.c0 = new RearrangedListView(this.actualDataProvider);\n          this.c0.ab = this.c2;\n          this.c0.ad = new LocalDataSourceViewExpansionNotifier(this);\n        }\n\n        this.ensureComparables(this.actualDataProvider.actualSchema);\n        this.c0.av = this.shouldEmitSectionHeaders && this.an;\n        this.c0.au = this.shouldEmitSectionFooters && this.an;\n        this.c0.aw = this.shouldEmitShiftedRows;\n        this.c0.cb(this.dc);\n        this.c0.a2 = this.db();\n        this.c0.a1 = this.da();\n        this.c0.p = this.cz();\n        this.c0.ae = this.groupDescriptions;\n        this.c0.af = this.sortDescriptions;\n        this.c0.ag = this.summaryDescriptions;\n        this.c0.l = this.summaryScope;\n        this.c0.am = this.includeSummaryRowsInSection;\n        this.c0.as = this.isSectionSummaryRowsAtBottom;\n        this.c0.j = this.sectionHeaderDisplayMode;\n        this.c0.m = this;\n        this.c0.ap = this.groupDescriptions != null && this.groupDescriptions.k.count > 0;\n        this.c0.t = this.c1();\n        this.c0.b6();\n        this.actualSchema = this.actualDataProvider.actualSchema;\n        this.actualCount = this.c0.a6.count;\n      } else {\n        var a = this.cv();\n        this.actualSchema = this.actualDataProvider.actualSchema;\n\n        if (a != null) {\n          this.actualCount = a.actualCount;\n        } else {\n          this.actualCount = 0;\n        }\n\n        if (this.c0 != null) {\n          this.c0.ab = null;\n          this.c0 = null;\n          this.onBroadcastClearItems();\n        }\n      }\n    } else {\n      this.actualCount = 0;\n      this.actualSchema = null;\n    }\n  };\n\n  LocalDataSource.prototype.get_isItemIndexLookupSupported = function () {\n    return true;\n  };\n\n  LocalDataSource.prototype.get_isKeyIndexLookupSupported = function () {\n    return true;\n  };\n\n  LocalDataSource.prototype.indexOfItem = function (a) {\n    if (this.c0 != null) {\n      return this.c0.a6.indexOf(a);\n    }\n\n    if (this.actualDataProvider != null && this.actualDataProvider.isItemIndexLookupSupported) {\n      return this.actualDataProvider.indexOfItem(a);\n    }\n\n    if (this.actualDataProvider != null) {\n      var b = this.actualDataProvider.actualCount;\n      var c = void 0;\n\n      for (var d = 0; d < b; d++) {\n        c = this.actualDataProvider.getItemAtIndex(d);\n\n        if (this.c4(c, a)) {\n          return d;\n        }\n      }\n    }\n\n    return -1;\n  };\n\n  LocalDataSource.prototype.c4 = function (a, b) {\n    if (a == null && b == null) {\n      return true;\n    }\n\n    if (a == null || b == null) {\n      return false;\n    }\n\n    return Base.equalsStatic(a, b);\n  };\n\n  LocalDataSource.prototype.indexOfKey = function (a) {\n    var b = this.actualPrimaryKey;\n\n    if (b == null || b.length < 1 || this.actualBaseDataProvider == null) {\n      return this.indexOfItem(a[0]);\n    }\n\n    var c = this.cz();\n    var d;\n\n    if (this.c0 != null) {\n      var e = this.c0.a6.count;\n\n      for (var f = 0; f < e; f++) {\n        d = this.c0.a6.item(f);\n\n        if (typeCast(DataSourceSpecialRow.$, d) !== null) {\n          var g = d;\n\n          if (g.rowType == 1 && !this.isSectionContentVisible && this.isSectionHeaderNormalRow) {\n            if (c.i(d, a) == 0) {\n              return f;\n            }\n          }\n        } else if (c.i(d, a) == 0) {\n          return f;\n        }\n      }\n\n      return -1;\n    }\n\n    if (this.actualDataProvider != null && this.actualDataProvider.isKeyIndexLookupSupported) {\n      return this.actualDataProvider.indexOfKey(a);\n    }\n\n    if (this.actualDataProvider != null) {\n      var h = this.actualDataProvider.actualCount;\n\n      for (var i = 0; i < h; i++) {\n        d = this.actualDataProvider.getItemAtIndex(i);\n\n        if (c.i(d, a) == 0) {\n          return i;\n        }\n      }\n    }\n\n    return -1;\n  };\n\n  LocalDataSource.prototype.onActualPrimaryKeyChangedOverrride = function (a, b) {\n    _super.prototype.onActualPrimaryKeyChangedOverrride.call(this, a, b);\n\n    this.cy = null;\n  };\n\n  LocalDataSource.prototype.cz = function () {\n    if (this.cy != null) {\n      return this.cy;\n    }\n\n    if (this.actualPrimaryKey == null) {\n      this.cy = new DataSourcePropertiesComparer(null, null, null, this);\n      return this.cy;\n    }\n\n    var a = new Array(this.actualPrimaryKey.length);\n\n    for (var b = 0; b < a.length; b++) {\n      a[b] = 0;\n    }\n\n    this.cy = new DataSourcePropertiesComparer(this.actualPrimaryKey, a, this.d, this);\n    return this.cy;\n  };\n\n  LocalDataSource.prototype.c1 = function () {\n    if (this.filterExpressions.j.count == 0) {\n      return null;\n    }\n\n    var a = this.actualDataProvider;\n    var b = this.actualDataProvider.actualSchema;\n    var c = this.filterExpressions.j;\n\n    var d = function (e) {\n      for (var f = 0; f < c.count; f++) {\n        if (!c.item(f).match(e, a, b)) {\n          return false;\n        }\n      }\n\n      return true;\n    };\n\n    return d;\n  };\n\n  LocalDataSource.prototype.db = function () {\n    var a = 0;\n\n    if (this.sortDescriptions.k.count == 0 && (this.groupDescriptions == null || this.groupDescriptions.k.count == 0)) {\n      return null;\n    }\n\n    a = this.sortDescriptions.k.count;\n\n    if (this.groupDescriptions != null) {\n      a += this.groupDescriptions.k.count;\n    }\n\n    var b = new Array(a);\n    var c = new Array(a);\n    var d = 0;\n\n    if (this.groupDescriptions != null) {\n      for (var e = 0; e < this.groupDescriptions.k.count; e++) {\n        b[e] = this.groupDescriptions.k.item(e).propertyName;\n        c[e] = this.groupDescriptions.k.item(e).direction;\n        d++;\n      }\n    }\n\n    for (var f = 0; f < this.sortDescriptions.k.count; f++) {\n      b[f + d] = this.sortDescriptions.k.item(f).propertyName;\n      c[f + d] = this.sortDescriptions.k.item(f).direction;\n    }\n\n    return new DataSourcePropertiesComparer(b, c, this.d, this);\n  };\n\n  LocalDataSource.prototype.da = function () {\n    if (this.groupDescriptions == null || this.groupDescriptions.k.count < 1) {\n      return null;\n    }\n\n    var a = 0;\n    a = this.groupDescriptions.k.count;\n    var b = new Array(a);\n    var c = new Array(a);\n\n    if (this.groupDescriptions != null) {\n      for (var d = 0; d < this.groupDescriptions.k.count; d++) {\n        b[d] = this.groupDescriptions.k.item(d).propertyName;\n        c[d] = this.groupDescriptions.k.item(d).direction;\n      }\n    }\n\n    return new DataSourcePropertiesComparer(b, c, this.d, this);\n  };\n\n  LocalDataSource.prototype.c7 = function () {\n    if (this.groupDescriptions == null || this.groupDescriptions.k.count < 1) {\n      return false;\n    }\n\n    if (this.actualDataProvider == null) {\n      return false;\n    }\n\n    if (this.actualDataProvider.isGroupingSupported) {\n      return false;\n    }\n\n    return true;\n  };\n\n  LocalDataSource.prototype.c8 = function () {\n    if (this.sortDescriptions == null || this.sortDescriptions.k.count < 1) {\n      return false;\n    }\n\n    if (this.actualDataProvider == null) {\n      return false;\n    }\n\n    if (this.actualDataProvider.isSortingSupported) {\n      return false;\n    }\n\n    return true;\n  };\n\n  LocalDataSource.prototype.c6 = function () {\n    return this.filterExpressions != null && this.filterExpressions.j.count > 0;\n  };\n\n  LocalDataSource.prototype.c9 = function () {\n    if (this.summaryDescriptions == null || this.summaryDescriptions.k.count < 1) {\n      return false;\n    }\n\n    return true;\n  };\n\n  LocalDataSource.prototype.onClearItemsOverride = function () {\n    if (this.c0 != null) {\n      this.c0.notifyClearItems();\n      this.queueAutoRefresh();\n    } else {\n      _super.prototype.onClearItemsOverride.call(this);\n    }\n  };\n\n  LocalDataSource.prototype.onSetItemOverride = function (a, b, c) {\n    if (this.c0 != null) {\n      this.c0.notifySetItem(a, b, c);\n    } else {\n      _super.prototype.onSetItemOverride.call(this, a, b, c);\n    }\n  };\n\n  LocalDataSource.prototype.onInsertItemOverride = function (a, b) {\n    if (this.c0 != null) {\n      this.c0.notifyInsertItem(a, b);\n    } else {\n      _super.prototype.onInsertItemOverride.call(this, a, b);\n    }\n  };\n\n  LocalDataSource.prototype.onRemoveItemOverride = function (a, b) {\n    if (this.c0 != null) {\n      this.c0.notifyRemoveItem(a, b);\n    } else {\n      _super.prototype.onRemoveItemOverride.call(this, a, b);\n    }\n  };\n\n  LocalDataSource.prototype.dw = function () {\n    this.actualCount = this.c0.a6.count;\n    this.onBroadcastClearItems();\n  };\n\n  LocalDataSource.prototype.dz = function (a, b, c) {\n    this.actualCount = this.c0.a6.count;\n    this.onBroadcastSetItem(a, b, c);\n  };\n\n  LocalDataSource.prototype.dx = function (a, b) {\n    this.actualCount = this.c0.a6.count;\n    this.onBroadcastInsertItem(a, b);\n  };\n\n  LocalDataSource.prototype.dy = function (a, b) {\n    this.actualCount = this.c0.a6.count;\n    this.onBroadcastRemoveItem(a, b);\n  };\n\n  LocalDataSource.prototype.pinRow = function (a) {\n    _super.prototype.pinRow.call(this, a);\n\n    this.dk = -1;\n    this.dd = -1;\n\n    if (this.c0 != null) {\n      this.dc.add(a);\n      this.c0.b5(a);\n    } else {\n      this.dc.add(a);\n      this.queueAutoRefresh();\n    }\n  };\n\n  LocalDataSource.prototype.unpinRow = function (a) {\n    _super.prototype.unpinRow.call(this, a);\n\n    var b = this.cz();\n\n    if (this.c0 != null) {\n      for (var c = this.dc.count - 1; c >= 0; c--) {\n        var d = this.dc._inner[c];\n\n        if (d.length != a.length) {\n          continue;\n        }\n\n        if (b.h(d, a) == 0) {\n          this.dc.removeAt(c);\n          this.c0.cc(d);\n        }\n      }\n    } else {\n      for (var e = this.dc.count - 1; e >= 0; e--) {\n        var f = this.dc._inner[e];\n\n        if (f.length != a.length) {\n          continue;\n        }\n\n        if (b.h(f, a) == 0) {\n          this.dc.removeAt(e);\n        }\n      }\n\n      this.queueAutoRefresh();\n    }\n\n    this.dk = -1;\n    this.dd = -1;\n  };\n\n  LocalDataSource.prototype.clearPinnedRows = function () {\n    for (var a = this.dc.count - 1; a >= 0; a--) {\n      this.unpinRow(this.dc._inner[a]);\n    }\n  };\n\n  LocalDataSource.prototype.isRowPinned = function (a) {\n    if (this.c0 == null) {\n      return false;\n    }\n\n    var b = this.getItemAtIndex(a);\n\n    if (b == null) {\n      return false;\n    }\n\n    var item_ = b;\n\n    if (item_ != null && item_.$$isSpecialRow !== undefined) {\n      if (item_.rowType == 3) {\n        return true;\n      }\n    }\n\n    var c = this.cz();\n    var d;\n\n    if (this.actualPrimaryKey == null) {\n      d = new Array(1);\n      d[0] = b;\n    } else {\n      var e = this.actualPrimaryKey;\n      var f = e.length;\n      d = new Array(f);\n\n      for (var g = 0; g < f; g++) {\n        d[g] = this.getItemProperty(b, e[g]);\n      }\n    }\n\n    for (var h = 0; h < this.dc.count; h++) {\n      if (c.h(this.dc._inner[h], d) == 0) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  LocalDataSource.prototype.get_isSortingSupported = function () {\n    if (this.externalDataSource != null && !this.c3) {\n      this.c3 = true;\n      var a = this.externalDataSource.isSortingSupportedOverride;\n      this.c3 = false;\n      return a;\n    }\n\n    return true;\n  };\n\n  LocalDataSource.prototype.get_isFilteringSupported = function () {\n    if (this.externalDataSource != null && !this.c3) {\n      this.c3 = true;\n      var a = this.externalDataSource.isFilteringSupportedOverride;\n      this.c3 = false;\n      return a;\n    }\n\n    return true;\n  };\n\n  LocalDataSource.prototype.get_isGroupingSupported = function () {\n    if (this.externalDataSource != null && !this.c3) {\n      this.c3 = true;\n      var a = this.externalDataSource.isGroupingSupportedOverride;\n      this.c3 = false;\n      return a;\n    }\n\n    return true;\n  };\n\n  LocalDataSource.prototype.getStickyRowPriority = function (a) {\n    var b = this.getRowType(a);\n\n    switch (b) {\n      case 1:\n        return 100 - this.getRowLevel(a);\n\n      case 2:\n        return 99 - this.getRowLevel(a);\n\n      case 3:\n      case 5:\n        return 2;\n\n      case 4:\n        return 3;\n    }\n\n    return 1;\n  };\n\n  LocalDataSource.prototype.getStickyRowsInRange = function (a, b) {\n    if (this.c0 == null || (this.groupDescriptions == null || this.groupDescriptions.k.count == 0) && (this.summaryDescriptions == null || this.summaryDescriptions.k.count == 0) && !this.c5()) {\n      return null;\n    }\n\n    var c = null;\n    var d = null;\n\n    if (this.c0.a5.count == 1) {\n      c = this.c0.a5._inner[0];\n      d = this.c0.a5._inner[0];\n    } else {\n      c = this.c0.w(a);\n\n      if (c != null) {\n        while (c.z != -1) {\n          c = this.c0.a5._inner[c.z];\n        }\n      }\n\n      d = this.c0.w(b);\n\n      if (b >= this.c0.a6.count - this.c0.bk) {\n        d = this.c0.v();\n      }\n    }\n\n    if (c == null || d == null) {\n      return null;\n    }\n\n    if (c.ae == this.dk && c.aa == this.dm && c.af == this.dn && c.ad == this.dl && c.ah == this.dq && c.ag == this.dp && d.ae == this.dd && d.aa == this.df && d.af == this.dg && d.ad == this.de && d.ah == this.di && d.ag == this.dh && this.c0.bk == this.dj) {\n      return this.cp;\n    }\n\n    this.dk = c.ae;\n    this.dd = d.ae;\n    this.dm = c.aa;\n    this.df = d.aa;\n    this.dn = c.af;\n    this.dg = d.af;\n    this.dl = c.ad;\n    this.de = d.ad;\n    this.dq = c.ah;\n    this.dp = c.ag;\n    this.di = d.ah;\n    this.dh = d.ag;\n    this.dj = this.c0.bk;\n\n    if (this.c0.a5.count == 1) {\n      this.dd = d.ad;\n    }\n\n    var e = 0;\n\n    if (this.shouldEmitSectionHeaders && this.an) {\n      e = 1;\n    }\n\n    var f = this.c0.ba();\n    var g = new List$1(Number_$type, 0);\n\n    for (var h = c.ae; h <= d.ae; h++) {\n      var i = this.c0.a5._inner[h];\n      var j = this.c0.a5._inner[h].c.length;\n\n      var k = this.c0.a5._inner[h].v();\n\n      if (this.shouldEmitSectionHeaders && this.an) {\n        for (var l = 0; l < j; l++) {\n          if (this.c0.a5._inner[h].a[l] != null) {\n            var m = i.af + i.b[l];\n            g.add(m);\n\n            if (this.summaryScope == 0 || this.summaryScope == 2) {\n              if (i.c[l] && this.includeSummaryRowsInSection && !this.isSectionSummaryRowsAtBottom) {\n                for (var n = 0; n < f; n++) {\n                  g.add(m + 1 + n);\n                }\n              }\n            }\n          }\n\n          if (!this.c0.a5._inner[h].c[l]) {\n            break;\n          }\n        }\n      }\n\n      if (this.c0.a5._inner[h].p) {\n        if (this.shouldEmitShiftedRows) {\n          for (var o = 0; o < this.c0.a5._inner[h].aa; o++) {\n            g.add(this.c0.a5._inner[h].af + this.c0.a5._inner[h].ah + o + k);\n          }\n        }\n      }\n\n      if (this.summaryScope == 0 || this.summaryScope == 2) {\n        if (this.includeSummaryRowsInSection && this.isSectionSummaryRowsAtBottom) {\n          for (var p = this.c0.a5._inner[h].ag - 1; p >= 0; p--) {\n            if (this.shouldEmitSectionFooters) {\n              g.add(this.c0.a5._inner[h].ad - k - p);\n            } else {\n              g.add(this.c0.a5._inner[h].ad - p);\n            }\n          }\n        }\n      }\n\n      if (this.shouldEmitSectionFooters && this.an) {\n        for (var q = j - 1; q >= 0; q--) {\n          if (!this.c0.a5._inner[h].c[q]) {\n            break;\n          }\n\n          g.add(this.c0.a5._inner[h].ad - q);\n        }\n      }\n    }\n\n    for (var r = this.c0.a6.count - this.c0.bk; r < this.c0.a6.count; r++) {\n      g.add(r);\n    }\n\n    this.cp = g.toArray();\n    return this.cp;\n  };\n\n  LocalDataSource.prototype.isExclusivelySticky = function (a) {\n    var b = this.getRowType(a);\n    return b == 1 || b == 2 || b == 4 || this.isSectionSummaryRowsAtBottom && b == 5;\n  };\n\n  LocalDataSource.prototype.getRowType = function (a) {\n    if (a < 0) {\n      return 0;\n    }\n\n    var b = this.getItemAtIndex(a);\n    var item_ = b;\n\n    if (item_ != null && item_.$$isSpecialRow !== undefined) {\n      var c = b.rowType;\n\n      if (this.isSectionHeaderNormalRow && c == 1) {\n        return 0;\n      }\n\n      return c;\n    }\n\n    return 0;\n  };\n\n  LocalDataSource.prototype.setIsRowExpandedAtIndex = function (a, b) {\n    if (this.isSectionCollapsable && this.c0 != null && this.c0.a6.count > 0 && this.c0.a6.count > a) {\n      this.c0.ca(a, b);\n    }\n  };\n\n  LocalDataSource.prototype.getIsRowExpandedAtIndex = function (a) {\n    if (this.c0 != null && this.c0.a6.count > 0 && this.c0.a6.count > a) {\n      return this.c0.ak(a);\n    }\n\n    return true;\n  };\n\n  LocalDataSource.prototype.getRowLevel = function (a) {\n    if (a < 0) {\n      return 0;\n    }\n\n    var b = this.getItemAtIndex(a);\n    var item_ = b;\n\n    if (item_ != null && item_.$$isSpecialRow !== undefined) {\n      return b.level;\n    }\n\n    if (this.sectionHeaderDisplayMode == 1) {\n      return this.groupDescriptions.k.count;\n    } else if (this.groupDescriptions.k.count > 0) {\n      return 1;\n    }\n\n    return 0;\n  };\n\n  LocalDataSource.prototype.getRootSummaryRowCount = function () {\n    if (this.c0 != null) {\n      return this.c0.bk;\n    }\n\n    return 0;\n  };\n\n  LocalDataSource.prototype.getRootSummaryResults = function () {\n    if (this.c0 != null) {\n      return this.c0.i;\n    }\n\n    return null;\n  };\n\n  LocalDataSource.prototype.getSectionSummaryResults = function (a) {\n    if (this.c0 != null && this.c0.a5.count > 0 && a >= 0 && a < this.c0.a5.count) {\n      return this.c0.a5._inner[a].i;\n    }\n\n    return null;\n  };\n\n  LocalDataSource.prototype.clone = function () {\n    var a = new LocalDataSource();\n    a.dataSource = this.dataSource;\n\n    _super.prototype.cloneProperties.call(this, a);\n\n    return a;\n  };\n\n  LocalDataSource.prototype.ao = function () {\n    return !this.isReadOnly && this.actualBaseDataProvider != null && this.t != null;\n  };\n\n  LocalDataSource.prototype.ci = function (a, b) {\n    var e_1, _a, e_2, _b;\n\n    if (a == 5) {\n      var c = new List$1(TransactionType_$type, 0);\n      var d = new List$1(Base.$, 0);\n      var e = b;\n      var f = e.a;\n\n      for (var g = 0; g < f.length; g++) {\n        if (f[g].transactionType == 1) {\n          var h = f[g].id;\n          var i = this.indexOfKey(h);\n\n          if (i > -1) {\n            var j = this.getItemAtIndex(i);\n            var k = f[g].value;\n\n            try {\n              for (var _c = (e_1 = void 0, tslib_1.__values(fromEnum(k))), _d = _c.next(); !_d.done; _d = _c.next()) {\n                var l = _d.value;\n                this.actualDataProvider.setItemValue(j, l.key, l.value);\n              }\n            } catch (e_1_1) {\n              e_1 = {\n                error: e_1_1\n              };\n            } finally {\n              try {\n                if (_d && !_d.done && (_a = _c.return)) _a.call(_c);\n              } finally {\n                if (e_1) throw e_1.error;\n              }\n            }\n\n            this.onBroadcastSetItem(i, j, j);\n            d.add1(j);\n            c.add(1);\n\n            if (this.dc.count > 0) {\n              var m = this.cz();\n\n              for (var n = 0; n < this.dc.count; n++) {\n                if (m.h(this.dc._inner[n], h) == 0) {\n                  var o = this.getStickyRows();\n\n                  for (var p = 0; p < o.length; p++) {\n                    var q = o[p];\n                    var r = typeCast(DataSourceSpecialRow.$, this.c0.a6.item(q));\n\n                    if (r != null && r.rowType == 3 && r.targetRow == j) {\n                      this.onBroadcastSetItem(q, r, r);\n                      break;\n                    }\n                  }\n\n                  break;\n                }\n              }\n            }\n          }\n        } else if (f[g].transactionType == TransactionType.Delete) {\n          var s = f[g].id;\n          var t = this.indexOfKey(s);\n\n          if (t > -1) {\n            var u = this.getItemAtIndex(t);\n            this.actualDataProvider.removeItem(u);\n            this.notifyRemoveItem(t, u);\n            d.add1(u);\n            c.add(TransactionType.Delete);\n          }\n        } else if (f[g].transactionType == 0) {\n          var v = f[g].id[0];\n\n          if (f[g].value != null) {\n            var w = f[g].value;\n\n            try {\n              for (var _e = (e_2 = void 0, tslib_1.__values(fromEnum(w))), _f = _e.next(); !_f.done; _f = _e.next()) {\n                var x = _f.value;\n                this.actualDataProvider.setItemValue(v, x.key, x.value);\n              }\n            } catch (e_2_1) {\n              e_2 = {\n                error: e_2_1\n              };\n            } finally {\n              try {\n                if (_f && !_f.done && (_b = _e.return)) _b.call(_e);\n              } finally {\n                if (e_2) throw e_2.error;\n              }\n            }\n          }\n\n          this.actualDataProvider.addItem(v);\n          d.add1(v);\n          c.add(0);\n        }\n      }\n\n      if (f.length > 0) {\n        this.bu(e.id, this.getAggregatedChanges(e.id));\n      }\n    }\n  };\n\n  LocalDataSource.$t = markType(LocalDataSource, 'LocalDataSource', BaseDataSource.$);\n  return LocalDataSource;\n}(BaseDataSource);\n\nexport { LocalDataSource };\n/**\n * @hidden\n */\n\nvar LocalDataSourceViewUpdateNotifier =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  tslib_1.__extends(LocalDataSourceViewUpdateNotifier, _super);\n\n  function LocalDataSourceViewUpdateNotifier(a) {\n    var _this = _super.call(this) || this;\n\n    _this.a = null;\n    _this.a = a;\n    return _this;\n  }\n\n  LocalDataSourceViewUpdateNotifier.prototype.notifyClearItems = function () {\n    this.a.dw();\n  };\n\n  LocalDataSourceViewUpdateNotifier.prototype.notifyInsertItem = function (a, b) {\n    this.a.dx(a, b);\n  };\n\n  LocalDataSourceViewUpdateNotifier.prototype.notifyRemoveItem = function (a, b) {\n    this.a.dy(a, b);\n  };\n\n  LocalDataSourceViewUpdateNotifier.prototype.notifySetItem = function (a, b, c) {\n    this.a.dz(a, b, c);\n  };\n\n  LocalDataSourceViewUpdateNotifier.$t = markType(LocalDataSourceViewUpdateNotifier, 'LocalDataSourceViewUpdateNotifier', Base.$, [ISupportsDataChangeNotifications_$type]);\n  return LocalDataSourceViewUpdateNotifier;\n}(Base);\n\nexport { LocalDataSourceViewUpdateNotifier };\n/**\n * @hidden\n */\n\nvar LocalDataSourceViewExpansionNotifier =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  tslib_1.__extends(LocalDataSourceViewExpansionNotifier, _super);\n\n  function LocalDataSourceViewExpansionNotifier(a) {\n    var _this = _super.call(this) || this;\n\n    _this.a = null;\n    _this.a = a;\n    return _this;\n  }\n\n  LocalDataSourceViewExpansionNotifier.prototype.notifyRowExpansionChanged = function (a, b, c) {\n    this.a.onRowExpansionChanged(a, b, c);\n  };\n\n  LocalDataSourceViewExpansionNotifier.$t = markType(LocalDataSourceViewExpansionNotifier, 'LocalDataSourceViewExpansionNotifier', Base.$, [ISupportsExpansionChangeNotifications_$type]);\n  return LocalDataSourceViewExpansionNotifier;\n}(Base);\n\nexport { LocalDataSourceViewExpansionNotifier };","map":{"version":3,"sources":["../../../../src/igniteui-core/lib/LocalDataSource_combined.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport * as tslib_1 from \"tslib\";\nimport { BaseDataSource } from \"./BaseDataSource\";\nimport { Base, typeCast, Array_$type, Number_$type, fromEnum, markType } from \"./type\";\nimport { RearrangedListView } from \"./RearrangedListView\";\nimport { DataSourcePropertiesComparer } from \"./DataSourcePropertiesComparer\";\nimport { List$1 } from \"./List$1\";\nimport { DataSourceExecutionContext } from \"./DataSourceExecutionContext\";\nimport { DataSourceLocalDataProvider } from \"./DataSourceLocalDataProvider\";\nimport { DataSourceSpecialRow } from \"./DataSourceSpecialRow\";\nimport { ISupportsDataChangeNotifications_$type } from \"./ISupportsDataChangeNotifications\";\nimport { TransactionType, TransactionType_$type } from \"./TransactionType\";\nimport { ISupportsExpansionChangeNotifications_$type } from \"./ISupportsExpansionChangeNotifications\";\n/**\n * @hidden\n */\nvar LocalDataSource = /** @class */ /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(LocalDataSource, _super);\n    function LocalDataSource() {\n        var _this = _super.call(this) || this;\n        _this.cr = null;\n        _this.cq = null;\n        _this.dr = null;\n        _this.cw = null;\n        _this.c0 = null;\n        _this.c2 = null;\n        _this.cy = null;\n        _this.dc = new List$1(Array_$type, 0);\n        _this.c3 = false;\n        _this.cp = null;\n        _this.dk = -1;\n        _this.dd = -1;\n        _this.dm = -1;\n        _this.df = -1;\n        _this.dn = -1;\n        _this.dg = -1;\n        _this.dl = -1;\n        _this.de = -1;\n        _this.dq = -1;\n        _this.dp = -1;\n        _this.di = -1;\n        _this.dh = -1;\n        _this.dj = -1;\n        _this.executionContext = new DataSourceExecutionContext();\n        _this.t.l = false;\n        return _this;\n    }\n    LocalDataSource.prototype.get_actualBaseDataProvider = function () {\n        return this.actualDataProvider;\n    };\n    Object.defineProperty(LocalDataSource.prototype, \"actualBaseDataProvider\", {\n        get: function () {\n            return this.get_actualBaseDataProvider();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(LocalDataSource.prototype, \"dataProvider\", {\n        get: function () {\n            return this.cr;\n        },\n        set: function (a) {\n            var b = this.cr;\n            this.cr = a;\n            if (b != this.cr) {\n                this.onPropertyUpdated(\"DataProvider\", b, this.cr);\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(LocalDataSource.prototype, \"actualDataProvider\", {\n        get: function () {\n            if (this.cq == null) {\n                this.actualDataProvider = this.resolveDataProvider();\n            }\n            return this.cq;\n        },\n        set: function (a) {\n            var b = this.cq;\n            this.cq = a;\n            if (b != this.cq) {\n                this.onPropertyUpdated(\"ActualDataProvider\", b, this.cq);\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(LocalDataSource.prototype, \"dataSource\", {\n        get: function () {\n            return this.dr;\n        },\n        set: function (a) {\n            var b = this.dr;\n            this.dr = a;\n            if (b != this.dr) {\n                this.onPropertyUpdated(\"ItemsSource\", b, this.dr);\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    LocalDataSource.prototype.canInitialize = function () {\n        var a = _super.prototype.canInitialize.call(this);\n        if (!a) {\n            return false;\n        }\n        return this.dataSource != null;\n    };\n    Object.defineProperty(LocalDataSource.prototype, \"cx\", {\n        get: function () {\n            return this.cw;\n        },\n        set: function (a) {\n            this.cw = a;\n            this.actualDataProvider = this.resolveDataProvider();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    LocalDataSource.prototype.resolveDataProvider = function () {\n        var provider_ = new DataSourceLocalDataProvider();\n        provider_.executionContext = new DataSourceExecutionContext();\n        return provider_;\n    };\n    LocalDataSource.prototype.propertyUpdatedOverride = function (a, b, c) {\n        _super.prototype.propertyUpdatedOverride.call(this, a, b, c);\n        switch (a) {\n            case \"DataProvider\":\n                this.actualDataProvider = this.dataProvider;\n                break;\n            case \"ActualDataProvider\":\n                if (this.actualDataProvider != null) {\n                    this.actualDataProvider.dataSource = this.dataSource;\n                    this.actualSchema = this.actualDataProvider.actualSchema;\n                    this.actualCount = this.resolveFullCount(this.actualDataProvider.actualCount);\n                }\n                this.queueAutoRefresh();\n                break;\n            case \"ItemsSource\":\n                if (this.actualDataProvider != null) {\n                    this.actualDataProvider.dataSource = this.dataSource;\n                    this.actualSchema = this.actualDataProvider.actualSchema;\n                    this.actualCount = this.resolveFullCount(this.actualDataProvider.actualCount);\n                }\n                this.queueAutoRefresh();\n                break;\n        }\n    };\n    LocalDataSource.prototype.getItemAtIndex = function (a) {\n        if (this.c0 != null && this.c0.a6 != null) {\n            return this.c0.a6.item(a);\n        }\n        else {\n            return this.actualDataProvider.getItemAtIndex(a);\n        }\n    };\n    LocalDataSource.prototype.getItemPropertyAtIndex = function (a, b) {\n        var c;\n        if (this.c0 != null) {\n            c = this.c0.a6.item(a);\n        }\n        else {\n            c = this.actualDataProvider.getItemAtIndex(a);\n        }\n        var item_ = c;\n        if ((item_ != null && item_.$$isSpecialRow !== undefined)) {\n            return this.getSpecialRowItemValue(c, b);\n        }\n        if (this.ao()) {\n            var d = this.al(c, b);\n            if (d) {\n                var e = this.ax(c, b);\n                return e;\n            }\n        }\n        return this.actualDataProvider.getItemValue(c, b);\n    };\n    LocalDataSource.prototype.cv = function () {\n        return this.actualDataProvider;\n    };\n    LocalDataSource.prototype.c5 = function () {\n        return this.dc != null && this.dc.count > 0;\n    };\n    LocalDataSource.prototype.refreshInternalOverride = function () {\n        _super.prototype.refreshInternalOverride.call(this);\n        if (this.actualDataProvider != null) {\n            if (this.c6() || this.c7() || this.c8() || this.c9() || this.c5()) {\n                if (this.c0 == null) {\n                    if (this.c2 == null) {\n                        this.c2 = new LocalDataSourceViewUpdateNotifier(this);\n                    }\n                    this.c0 = new RearrangedListView(this.actualDataProvider);\n                    this.c0.ab = this.c2;\n                    this.c0.ad = new LocalDataSourceViewExpansionNotifier(this);\n                }\n                this.ensureComparables(this.actualDataProvider.actualSchema);\n                this.c0.av = this.shouldEmitSectionHeaders && this.an;\n                this.c0.au = this.shouldEmitSectionFooters && this.an;\n                this.c0.aw = this.shouldEmitShiftedRows;\n                this.c0.cb(this.dc);\n                this.c0.a2 = this.db();\n                this.c0.a1 = this.da();\n                this.c0.p = this.cz();\n                this.c0.ae = this.groupDescriptions;\n                this.c0.af = this.sortDescriptions;\n                this.c0.ag = this.summaryDescriptions;\n                this.c0.l = this.summaryScope;\n                this.c0.am = this.includeSummaryRowsInSection;\n                this.c0.as = this.isSectionSummaryRowsAtBottom;\n                this.c0.j = this.sectionHeaderDisplayMode;\n                this.c0.m = this;\n                this.c0.ap = this.groupDescriptions != null && this.groupDescriptions.k.count > 0;\n                this.c0.t = this.c1();\n                this.c0.b6();\n                this.actualSchema = this.actualDataProvider.actualSchema;\n                this.actualCount = this.c0.a6.count;\n            }\n            else {\n                var a = this.cv();\n                this.actualSchema = this.actualDataProvider.actualSchema;\n                if (a != null) {\n                    this.actualCount = a.actualCount;\n                }\n                else {\n                    this.actualCount = 0;\n                }\n                if (this.c0 != null) {\n                    this.c0.ab = null;\n                    this.c0 = null;\n                    this.onBroadcastClearItems();\n                }\n            }\n        }\n        else {\n            this.actualCount = 0;\n            this.actualSchema = null;\n        }\n    };\n    LocalDataSource.prototype.get_isItemIndexLookupSupported = function () {\n        return true;\n    };\n    LocalDataSource.prototype.get_isKeyIndexLookupSupported = function () {\n        return true;\n    };\n    LocalDataSource.prototype.indexOfItem = function (a) {\n        if (this.c0 != null) {\n            return this.c0.a6.indexOf(a);\n        }\n        if (this.actualDataProvider != null && this.actualDataProvider.isItemIndexLookupSupported) {\n            return this.actualDataProvider.indexOfItem(a);\n        }\n        if (this.actualDataProvider != null) {\n            var b = this.actualDataProvider.actualCount;\n            var c = void 0;\n            for (var d = 0; d < b; d++) {\n                c = this.actualDataProvider.getItemAtIndex(d);\n                if (this.c4(c, a)) {\n                    return d;\n                }\n            }\n        }\n        return -1;\n    };\n    LocalDataSource.prototype.c4 = function (a, b) {\n        if (a == null && b == null) {\n            return true;\n        }\n        if (a == null || b == null) {\n            return false;\n        }\n        return Base.equalsStatic(a, b);\n    };\n    LocalDataSource.prototype.indexOfKey = function (a) {\n        var b = this.actualPrimaryKey;\n        if (b == null || b.length < 1 || this.actualBaseDataProvider == null) {\n            return this.indexOfItem(a[0]);\n        }\n        var c = this.cz();\n        var d;\n        if (this.c0 != null) {\n            var e = this.c0.a6.count;\n            for (var f = 0; f < e; f++) {\n                d = this.c0.a6.item(f);\n                if (typeCast(DataSourceSpecialRow.$, d) !== null) {\n                    var g = d;\n                    if (g.rowType == 1 && !this.isSectionContentVisible && this.isSectionHeaderNormalRow) {\n                        if (c.i(d, a) == 0) {\n                            return f;\n                        }\n                    }\n                }\n                else if (c.i(d, a) == 0) {\n                    return f;\n                }\n            }\n            return -1;\n        }\n        if (this.actualDataProvider != null && this.actualDataProvider.isKeyIndexLookupSupported) {\n            return this.actualDataProvider.indexOfKey(a);\n        }\n        if (this.actualDataProvider != null) {\n            var h = this.actualDataProvider.actualCount;\n            for (var i = 0; i < h; i++) {\n                d = this.actualDataProvider.getItemAtIndex(i);\n                if (c.i(d, a) == 0) {\n                    return i;\n                }\n            }\n        }\n        return -1;\n    };\n    LocalDataSource.prototype.onActualPrimaryKeyChangedOverrride = function (a, b) {\n        _super.prototype.onActualPrimaryKeyChangedOverrride.call(this, a, b);\n        this.cy = null;\n    };\n    LocalDataSource.prototype.cz = function () {\n        if (this.cy != null) {\n            return this.cy;\n        }\n        if (this.actualPrimaryKey == null) {\n            this.cy = new DataSourcePropertiesComparer(null, null, null, this);\n            return this.cy;\n        }\n        var a = new Array(this.actualPrimaryKey.length);\n        for (var b = 0; b < a.length; b++) {\n            a[b] = 0;\n        }\n        this.cy = new DataSourcePropertiesComparer(this.actualPrimaryKey, a, this.d, this);\n        return this.cy;\n    };\n    LocalDataSource.prototype.c1 = function () {\n        if (this.filterExpressions.j.count == 0) {\n            return null;\n        }\n        var a = this.actualDataProvider;\n        var b = this.actualDataProvider.actualSchema;\n        var c = this.filterExpressions.j;\n        var d = function (e) {\n            for (var f = 0; f < c.count; f++) {\n                if (!c.item(f).match(e, a, b)) {\n                    return false;\n                }\n            }\n            return true;\n        };\n        return d;\n    };\n    LocalDataSource.prototype.db = function () {\n        var a = 0;\n        if (this.sortDescriptions.k.count == 0 && (this.groupDescriptions == null || this.groupDescriptions.k.count == 0)) {\n            return null;\n        }\n        a = this.sortDescriptions.k.count;\n        if (this.groupDescriptions != null) {\n            a += this.groupDescriptions.k.count;\n        }\n        var b = new Array(a);\n        var c = new Array(a);\n        var d = 0;\n        if (this.groupDescriptions != null) {\n            for (var e = 0; e < this.groupDescriptions.k.count; e++) {\n                b[e] = this.groupDescriptions.k.item(e).propertyName;\n                c[e] = this.groupDescriptions.k.item(e).direction;\n                d++;\n            }\n        }\n        for (var f = 0; f < this.sortDescriptions.k.count; f++) {\n            b[f + d] = this.sortDescriptions.k.item(f).propertyName;\n            c[f + d] = this.sortDescriptions.k.item(f).direction;\n        }\n        return new DataSourcePropertiesComparer(b, c, this.d, this);\n    };\n    LocalDataSource.prototype.da = function () {\n        if (this.groupDescriptions == null || this.groupDescriptions.k.count < 1) {\n            return null;\n        }\n        var a = 0;\n        a = this.groupDescriptions.k.count;\n        var b = new Array(a);\n        var c = new Array(a);\n        if (this.groupDescriptions != null) {\n            for (var d = 0; d < this.groupDescriptions.k.count; d++) {\n                b[d] = this.groupDescriptions.k.item(d).propertyName;\n                c[d] = this.groupDescriptions.k.item(d).direction;\n            }\n        }\n        return new DataSourcePropertiesComparer(b, c, this.d, this);\n    };\n    LocalDataSource.prototype.c7 = function () {\n        if (this.groupDescriptions == null || this.groupDescriptions.k.count < 1) {\n            return false;\n        }\n        if (this.actualDataProvider == null) {\n            return false;\n        }\n        if (this.actualDataProvider.isGroupingSupported) {\n            return false;\n        }\n        return true;\n    };\n    LocalDataSource.prototype.c8 = function () {\n        if (this.sortDescriptions == null || this.sortDescriptions.k.count < 1) {\n            return false;\n        }\n        if (this.actualDataProvider == null) {\n            return false;\n        }\n        if (this.actualDataProvider.isSortingSupported) {\n            return false;\n        }\n        return true;\n    };\n    LocalDataSource.prototype.c6 = function () {\n        return this.filterExpressions != null && this.filterExpressions.j.count > 0;\n    };\n    LocalDataSource.prototype.c9 = function () {\n        if (this.summaryDescriptions == null || this.summaryDescriptions.k.count < 1) {\n            return false;\n        }\n        return true;\n    };\n    LocalDataSource.prototype.onClearItemsOverride = function () {\n        if (this.c0 != null) {\n            this.c0.notifyClearItems();\n            this.queueAutoRefresh();\n        }\n        else {\n            _super.prototype.onClearItemsOverride.call(this);\n        }\n    };\n    LocalDataSource.prototype.onSetItemOverride = function (a, b, c) {\n        if (this.c0 != null) {\n            this.c0.notifySetItem(a, b, c);\n        }\n        else {\n            _super.prototype.onSetItemOverride.call(this, a, b, c);\n        }\n    };\n    LocalDataSource.prototype.onInsertItemOverride = function (a, b) {\n        if (this.c0 != null) {\n            this.c0.notifyInsertItem(a, b);\n        }\n        else {\n            _super.prototype.onInsertItemOverride.call(this, a, b);\n        }\n    };\n    LocalDataSource.prototype.onRemoveItemOverride = function (a, b) {\n        if (this.c0 != null) {\n            this.c0.notifyRemoveItem(a, b);\n        }\n        else {\n            _super.prototype.onRemoveItemOverride.call(this, a, b);\n        }\n    };\n    LocalDataSource.prototype.dw = function () {\n        this.actualCount = this.c0.a6.count;\n        this.onBroadcastClearItems();\n    };\n    LocalDataSource.prototype.dz = function (a, b, c) {\n        this.actualCount = this.c0.a6.count;\n        this.onBroadcastSetItem(a, b, c);\n    };\n    LocalDataSource.prototype.dx = function (a, b) {\n        this.actualCount = this.c0.a6.count;\n        this.onBroadcastInsertItem(a, b);\n    };\n    LocalDataSource.prototype.dy = function (a, b) {\n        this.actualCount = this.c0.a6.count;\n        this.onBroadcastRemoveItem(a, b);\n    };\n    LocalDataSource.prototype.pinRow = function (a) {\n        _super.prototype.pinRow.call(this, a);\n        this.dk = -1;\n        this.dd = -1;\n        if (this.c0 != null) {\n            this.dc.add(a);\n            this.c0.b5(a);\n        }\n        else {\n            this.dc.add(a);\n            this.queueAutoRefresh();\n        }\n    };\n    LocalDataSource.prototype.unpinRow = function (a) {\n        _super.prototype.unpinRow.call(this, a);\n        var b = this.cz();\n        if (this.c0 != null) {\n            for (var c = this.dc.count - 1; c >= 0; c--) {\n                var d = this.dc._inner[c];\n                if (d.length != a.length) {\n                    continue;\n                }\n                if (b.h(d, a) == 0) {\n                    this.dc.removeAt(c);\n                    this.c0.cc(d);\n                }\n            }\n        }\n        else {\n            for (var e = this.dc.count - 1; e >= 0; e--) {\n                var f = this.dc._inner[e];\n                if (f.length != a.length) {\n                    continue;\n                }\n                if (b.h(f, a) == 0) {\n                    this.dc.removeAt(e);\n                }\n            }\n            this.queueAutoRefresh();\n        }\n        this.dk = -1;\n        this.dd = -1;\n    };\n    LocalDataSource.prototype.clearPinnedRows = function () {\n        for (var a = this.dc.count - 1; a >= 0; a--) {\n            this.unpinRow(this.dc._inner[a]);\n        }\n    };\n    LocalDataSource.prototype.isRowPinned = function (a) {\n        if (this.c0 == null) {\n            return false;\n        }\n        var b = this.getItemAtIndex(a);\n        if (b == null) {\n            return false;\n        }\n        var item_ = b;\n        if ((item_ != null && item_.$$isSpecialRow !== undefined)) {\n            if (item_.rowType == 3) {\n                return true;\n            }\n        }\n        var c = this.cz();\n        var d;\n        if (this.actualPrimaryKey == null) {\n            d = new Array(1);\n            d[0] = b;\n        }\n        else {\n            var e = this.actualPrimaryKey;\n            var f = e.length;\n            d = new Array(f);\n            for (var g = 0; g < f; g++) {\n                d[g] = this.getItemProperty(b, e[g]);\n            }\n        }\n        for (var h = 0; h < this.dc.count; h++) {\n            if (c.h(this.dc._inner[h], d) == 0) {\n                return true;\n            }\n        }\n        return false;\n    };\n    LocalDataSource.prototype.get_isSortingSupported = function () {\n        if (this.externalDataSource != null && !this.c3) {\n            this.c3 = true;\n            var a = this.externalDataSource.isSortingSupportedOverride;\n            this.c3 = false;\n            return a;\n        }\n        return true;\n    };\n    LocalDataSource.prototype.get_isFilteringSupported = function () {\n        if (this.externalDataSource != null && !this.c3) {\n            this.c3 = true;\n            var a = this.externalDataSource.isFilteringSupportedOverride;\n            this.c3 = false;\n            return a;\n        }\n        return true;\n    };\n    LocalDataSource.prototype.get_isGroupingSupported = function () {\n        if (this.externalDataSource != null && !this.c3) {\n            this.c3 = true;\n            var a = this.externalDataSource.isGroupingSupportedOverride;\n            this.c3 = false;\n            return a;\n        }\n        return true;\n    };\n    LocalDataSource.prototype.getStickyRowPriority = function (a) {\n        var b = this.getRowType(a);\n        switch (b) {\n            case 1: return 100 - this.getRowLevel(a);\n            case 2: return 99 - this.getRowLevel(a);\n            case 3:\n            case 5: return 2;\n            case 4: return 3;\n        }\n        return 1;\n    };\n    LocalDataSource.prototype.getStickyRowsInRange = function (a, b) {\n        if (this.c0 == null || ((this.groupDescriptions == null || this.groupDescriptions.k.count == 0) && (this.summaryDescriptions == null || this.summaryDescriptions.k.count == 0) && !this.c5())) {\n            return null;\n        }\n        var c = null;\n        var d = null;\n        if (this.c0.a5.count == 1) {\n            c = this.c0.a5._inner[0];\n            d = this.c0.a5._inner[0];\n        }\n        else {\n            c = this.c0.w(a);\n            if (c != null) {\n                while (c.z != -1) {\n                    c = this.c0.a5._inner[c.z];\n                }\n            }\n            d = this.c0.w(b);\n            if (b >= this.c0.a6.count - this.c0.bk) {\n                d = this.c0.v();\n            }\n        }\n        if (c == null || d == null) {\n            return null;\n        }\n        if (c.ae == this.dk && c.aa == this.dm && c.af == this.dn && c.ad == this.dl && c.ah == this.dq && c.ag == this.dp && d.ae == this.dd && d.aa == this.df && d.af == this.dg && d.ad == this.de && d.ah == this.di && d.ag == this.dh && this.c0.bk == this.dj) {\n            return this.cp;\n        }\n        this.dk = c.ae;\n        this.dd = d.ae;\n        this.dm = c.aa;\n        this.df = d.aa;\n        this.dn = c.af;\n        this.dg = d.af;\n        this.dl = c.ad;\n        this.de = d.ad;\n        this.dq = c.ah;\n        this.dp = c.ag;\n        this.di = d.ah;\n        this.dh = d.ag;\n        this.dj = this.c0.bk;\n        if (this.c0.a5.count == 1) {\n            this.dd = d.ad;\n        }\n        var e = 0;\n        if (this.shouldEmitSectionHeaders && this.an) {\n            e = 1;\n        }\n        var f = this.c0.ba();\n        var g = new List$1(Number_$type, 0);\n        for (var h = c.ae; h <= d.ae; h++) {\n            var i = this.c0.a5._inner[h];\n            var j = this.c0.a5._inner[h].c.length;\n            var k = this.c0.a5._inner[h].v();\n            if (this.shouldEmitSectionHeaders && this.an) {\n                for (var l = 0; l < j; l++) {\n                    if (this.c0.a5._inner[h].a[l] != null) {\n                        var m = i.af + i.b[l];\n                        g.add(m);\n                        if (this.summaryScope == 0 || this.summaryScope == 2) {\n                            if (i.c[l] && this.includeSummaryRowsInSection && !this.isSectionSummaryRowsAtBottom) {\n                                for (var n = 0; n < f; n++) {\n                                    g.add(m + 1 + n);\n                                }\n                            }\n                        }\n                    }\n                    if (!this.c0.a5._inner[h].c[l]) {\n                        break;\n                    }\n                }\n            }\n            if (this.c0.a5._inner[h].p) {\n                if (this.shouldEmitShiftedRows) {\n                    for (var o = 0; o < this.c0.a5._inner[h].aa; o++) {\n                        g.add(this.c0.a5._inner[h].af + this.c0.a5._inner[h].ah + o + k);\n                    }\n                }\n            }\n            if (this.summaryScope == 0 || this.summaryScope == 2) {\n                if (this.includeSummaryRowsInSection && this.isSectionSummaryRowsAtBottom) {\n                    for (var p = this.c0.a5._inner[h].ag - 1; p >= 0; p--) {\n                        if (this.shouldEmitSectionFooters) {\n                            g.add(this.c0.a5._inner[h].ad - k - p);\n                        }\n                        else {\n                            g.add(this.c0.a5._inner[h].ad - p);\n                        }\n                    }\n                }\n            }\n            if (this.shouldEmitSectionFooters && this.an) {\n                for (var q = j - 1; q >= 0; q--) {\n                    if (!this.c0.a5._inner[h].c[q]) {\n                        break;\n                    }\n                    g.add(this.c0.a5._inner[h].ad - q);\n                }\n            }\n        }\n        for (var r = this.c0.a6.count - this.c0.bk; r < this.c0.a6.count; r++) {\n            g.add(r);\n        }\n        this.cp = g.toArray();\n        return this.cp;\n    };\n    LocalDataSource.prototype.isExclusivelySticky = function (a) {\n        var b = this.getRowType(a);\n        return b == 1 || b == 2 || b == 4 || (this.isSectionSummaryRowsAtBottom && b == 5);\n    };\n    LocalDataSource.prototype.getRowType = function (a) {\n        if (a < 0) {\n            return 0;\n        }\n        var b = this.getItemAtIndex(a);\n        var item_ = b;\n        if ((item_ != null && item_.$$isSpecialRow !== undefined)) {\n            var c = b.rowType;\n            if (this.isSectionHeaderNormalRow && c == 1) {\n                return 0;\n            }\n            return c;\n        }\n        return 0;\n    };\n    LocalDataSource.prototype.setIsRowExpandedAtIndex = function (a, b) {\n        if (this.isSectionCollapsable && this.c0 != null && this.c0.a6.count > 0 && this.c0.a6.count > a) {\n            this.c0.ca(a, b);\n        }\n    };\n    LocalDataSource.prototype.getIsRowExpandedAtIndex = function (a) {\n        if (this.c0 != null && this.c0.a6.count > 0 && this.c0.a6.count > a) {\n            return this.c0.ak(a);\n        }\n        return true;\n    };\n    LocalDataSource.prototype.getRowLevel = function (a) {\n        if (a < 0) {\n            return 0;\n        }\n        var b = this.getItemAtIndex(a);\n        var item_ = b;\n        if ((item_ != null && item_.$$isSpecialRow !== undefined)) {\n            return b.level;\n        }\n        if (this.sectionHeaderDisplayMode == 1) {\n            return this.groupDescriptions.k.count;\n        }\n        else if (this.groupDescriptions.k.count > 0) {\n            return 1;\n        }\n        return 0;\n    };\n    LocalDataSource.prototype.getRootSummaryRowCount = function () {\n        if (this.c0 != null) {\n            return this.c0.bk;\n        }\n        return 0;\n    };\n    LocalDataSource.prototype.getRootSummaryResults = function () {\n        if (this.c0 != null) {\n            return this.c0.i;\n        }\n        return null;\n    };\n    LocalDataSource.prototype.getSectionSummaryResults = function (a) {\n        if (this.c0 != null && this.c0.a5.count > 0 && a >= 0 && a < this.c0.a5.count) {\n            return this.c0.a5._inner[a].i;\n        }\n        return null;\n    };\n    LocalDataSource.prototype.clone = function () {\n        var a = new LocalDataSource();\n        a.dataSource = this.dataSource;\n        _super.prototype.cloneProperties.call(this, a);\n        return a;\n    };\n    LocalDataSource.prototype.ao = function () {\n        return !this.isReadOnly && this.actualBaseDataProvider != null && this.t != null;\n    };\n    LocalDataSource.prototype.ci = function (a, b) {\n        var e_1, _a, e_2, _b;\n        if (a == 5) {\n            var c = new List$1(TransactionType_$type, 0);\n            var d = new List$1(Base.$, 0);\n            var e = b;\n            var f = e.a;\n            for (var g = 0; g < f.length; g++) {\n                if (f[g].transactionType == 1) {\n                    var h = f[g].id;\n                    var i = this.indexOfKey(h);\n                    if (i > -1) {\n                        var j = this.getItemAtIndex(i);\n                        var k = f[g].value;\n                        try {\n                            for (var _c = (e_1 = void 0, tslib_1.__values(fromEnum(k))), _d = _c.next(); !_d.done; _d = _c.next()) {\n                                var l = _d.value;\n                                this.actualDataProvider.setItemValue(j, l.key, l.value);\n                            }\n                        }\n                        catch (e_1_1) {\n                            e_1 = { error: e_1_1 };\n                        }\n                        finally {\n                            try {\n                                if (_d && !_d.done && (_a = _c.return))\n                                    _a.call(_c);\n                            }\n                            finally {\n                                if (e_1)\n                                    throw e_1.error;\n                            }\n                        }\n                        this.onBroadcastSetItem(i, j, j);\n                        d.add1(j);\n                        c.add(1);\n                        if (this.dc.count > 0) {\n                            var m = this.cz();\n                            for (var n = 0; n < this.dc.count; n++) {\n                                if (m.h(this.dc._inner[n], h) == 0) {\n                                    var o = this.getStickyRows();\n                                    for (var p = 0; p < o.length; p++) {\n                                        var q = o[p];\n                                        var r = typeCast(DataSourceSpecialRow.$, this.c0.a6.item(q));\n                                        if (r != null && r.rowType == 3 && r.targetRow == j) {\n                                            this.onBroadcastSetItem(q, r, r);\n                                            break;\n                                        }\n                                    }\n                                    break;\n                                }\n                            }\n                        }\n                    }\n                }\n                else if (f[g].transactionType == TransactionType.Delete) {\n                    var s = f[g].id;\n                    var t = this.indexOfKey(s);\n                    if (t > -1) {\n                        var u = this.getItemAtIndex(t);\n                        this.actualDataProvider.removeItem(u);\n                        this.notifyRemoveItem(t, u);\n                        d.add1(u);\n                        c.add(TransactionType.Delete);\n                    }\n                }\n                else if (f[g].transactionType == 0) {\n                    var v = f[g].id[0];\n                    if (f[g].value != null) {\n                        var w = f[g].value;\n                        try {\n                            for (var _e = (e_2 = void 0, tslib_1.__values(fromEnum(w))), _f = _e.next(); !_f.done; _f = _e.next()) {\n                                var x = _f.value;\n                                this.actualDataProvider.setItemValue(v, x.key, x.value);\n                            }\n                        }\n                        catch (e_2_1) {\n                            e_2 = { error: e_2_1 };\n                        }\n                        finally {\n                            try {\n                                if (_f && !_f.done && (_b = _e.return))\n                                    _b.call(_e);\n                            }\n                            finally {\n                                if (e_2)\n                                    throw e_2.error;\n                            }\n                        }\n                    }\n                    this.actualDataProvider.addItem(v);\n                    d.add1(v);\n                    c.add(0);\n                }\n            }\n            if (f.length > 0) {\n                this.bu(e.id, this.getAggregatedChanges(e.id));\n            }\n        }\n    };\n    LocalDataSource.$t = markType(LocalDataSource, 'LocalDataSource', BaseDataSource.$);\n    return LocalDataSource;\n}(BaseDataSource));\nexport { LocalDataSource };\n/**\n * @hidden\n */\nvar LocalDataSourceViewUpdateNotifier = /** @class */ /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(LocalDataSourceViewUpdateNotifier, _super);\n    function LocalDataSourceViewUpdateNotifier(a) {\n        var _this = _super.call(this) || this;\n        _this.a = null;\n        _this.a = a;\n        return _this;\n    }\n    LocalDataSourceViewUpdateNotifier.prototype.notifyClearItems = function () {\n        this.a.dw();\n    };\n    LocalDataSourceViewUpdateNotifier.prototype.notifyInsertItem = function (a, b) {\n        this.a.dx(a, b);\n    };\n    LocalDataSourceViewUpdateNotifier.prototype.notifyRemoveItem = function (a, b) {\n        this.a.dy(a, b);\n    };\n    LocalDataSourceViewUpdateNotifier.prototype.notifySetItem = function (a, b, c) {\n        this.a.dz(a, b, c);\n    };\n    LocalDataSourceViewUpdateNotifier.$t = markType(LocalDataSourceViewUpdateNotifier, 'LocalDataSourceViewUpdateNotifier', Base.$, [ISupportsDataChangeNotifications_$type]);\n    return LocalDataSourceViewUpdateNotifier;\n}(Base));\nexport { LocalDataSourceViewUpdateNotifier };\n/**\n * @hidden\n */\nvar LocalDataSourceViewExpansionNotifier = /** @class */ /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(LocalDataSourceViewExpansionNotifier, _super);\n    function LocalDataSourceViewExpansionNotifier(a) {\n        var _this = _super.call(this) || this;\n        _this.a = null;\n        _this.a = a;\n        return _this;\n    }\n    LocalDataSourceViewExpansionNotifier.prototype.notifyRowExpansionChanged = function (a, b, c) {\n        this.a.onRowExpansionChanged(a, b, c);\n    };\n    LocalDataSourceViewExpansionNotifier.$t = markType(LocalDataSourceViewExpansionNotifier, 'LocalDataSourceViewExpansionNotifier', Base.$, [ISupportsExpansionChangeNotifications_$type]);\n    return LocalDataSourceViewExpansionNotifier;\n}(Base));\nexport { LocalDataSourceViewExpansionNotifier };\n//# sourceMappingURL=LocalDataSource_combined.js.map\n"]},"metadata":{},"sourceType":"module"}
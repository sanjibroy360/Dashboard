{"ast":null,"code":"/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport * as tslib_1 from \"tslib\";\nimport { Base, IEnumerable_$type, fromEnum, typeCast, Date_$type, Boolean_$type, Array_$type, String_$type, Delegate_$type, runOn, markType } from \"./type\";\nimport { TypeDescriptionContext } from \"./TypeDescriptionContext\";\nimport { TypeDescriptionPropretyTransforms } from \"./TypeDescriptionPropretyTransforms\";\nimport { TypeDescriptionCleanups } from \"./TypeDescriptionCleanups\";\nimport { Dictionary$2 } from \"./Dictionary$2\";\nimport { Description } from \"./Description\";\nimport { DescriptionTreeNode } from \"./DescriptionTreeNode\";\nimport { ContainerState } from \"./ContainerState\";\nimport { Queue$1 } from \"./Queue$1\";\nimport { DescriptionTreeAction } from \"./DescriptionTreeAction\";\nimport { DescriptionRef } from \"./DescriptionRef\";\nimport { List$1 } from \"./List$1\";\nimport { DescriptionSerializerBuilder } from \"./DescriptionSerializerBuilder\";\nimport { DescriptionSerializer } from \"./DescriptionSerializer\";\nimport { DataSourceLocalDataProvider } from \"./DataSourceLocalDataProvider\";\nimport { JsonDictionaryParser } from \"./JsonDictionaryParser\";\nimport { DescriptionTreeBuilder } from \"./DescriptionTreeBuilder\";\nimport { JsonDictionaryObject } from \"./JsonDictionaryObject\";\nimport { JsonDictionaryValue } from \"./JsonDictionaryValue\";\nimport { JsonDictionaryArray } from \"./JsonDictionaryArray\";\nimport { DescriptionTreeReconciler } from \"./DescriptionTreeReconciler\";\nimport { NotImplementedException } from \"./NotImplementedException\";\nimport { ComponentRendererAdapter } from \"./ComponentRendererAdapter\";\nimport { stringIsNullOrEmpty, stringStartsWith } from \"./string\";\n/**\n * @hidden\n */\n\nvar ComponentRenderer =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  tslib_1.__extends(ComponentRenderer, _super);\n\n  function ComponentRenderer() {\n    var _this = _super.call(this) || this;\n\n    _this.d = null;\n    _this._context = null;\n    _this.i = null;\n    _this.f = null;\n    _this.ai = new Dictionary$2(Base.$, Description.$, 0);\n    _this.aj = new Dictionary$2(Base.$, Boolean_$type, 0);\n    _this.ak = new Dictionary$2(Base.$, Boolean_$type, 0);\n    _this.ah = new Dictionary$2(Base.$, DescriptionTreeNode.$, 0);\n    _this.an = new Dictionary$2(Base.$, ContainerState.$, 0);\n    _this.al = new Dictionary$2(Base.$, Queue$1.$.specialize(Queue$1.$.specialize(DescriptionTreeAction.$)), 0);\n    _this.ag = new Dictionary$2(Base.$, Boolean_$type, 0);\n    _this.am = new Dictionary$2(String_$type, DescriptionRef.$, 0);\n    _this.ao = new Dictionary$2(String_$type, Base.$, 0);\n    _this.aq = new Dictionary$2(String_$type, Base.$, 0);\n    _this.ap = new Dictionary$2(String_$type, List$1.$.specialize(Delegate_$type), 0);\n    _this.ar = new List$1(Delegate_$type, 0);\n    _this.as = new List$1(Delegate_$type, 0);\n    _this._shouldNamespaceSystemRefValues = false;\n\n    var a = _this.e();\n\n    _this.d = a;\n    _this.context = new TypeDescriptionContext(a, ComponentRenderer.platform);\n    _this.i = new TypeDescriptionPropretyTransforms();\n    _this.f = new TypeDescriptionCleanups();\n    return _this;\n  }\n\n  Object.defineProperty(ComponentRenderer.prototype, \"context\", {\n    get: function () {\n      return this._context;\n    },\n    set: function (a) {\n      this._context = a;\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  ComponentRenderer.prototype.e = function () {\n    return new ComponentRendererAdapter();\n  };\n\n  ComponentRenderer.prototype.toJson = function (a) {\n    var e_1, _a, e_2, _b;\n\n    var b = new DescriptionSerializerBuilder();\n    var c = new DescriptionSerializer();\n    b.f(\"{\");\n    b.i();\n    b.f(\"\\\"descriptions\\\": {\");\n    b.i();\n    var d = true;\n\n    try {\n      for (var _c = tslib_1.__values(fromEnum(this.ah.keys)), _d = _c.next(); !_d.done; _d = _c.next()) {\n        var e = _d.value;\n\n        if (d) {\n          d = false;\n        } else {\n          b.f(\",\");\n        }\n\n        var f = e;\n        var g = this.ah.item(e);\n        var h = \"root\";\n        h = a(f);\n\n        if (stringIsNullOrEmpty(h)) {\n          h = \"root\";\n        }\n\n        b.e(\"\\\"\" + h + \"\\\"\");\n        b.e(\": \");\n        c.o(this.context, g, b);\n      }\n    } catch (e_1_1) {\n      e_1 = {\n        error: e_1_1\n      };\n    } finally {\n      try {\n        if (_d && !_d.done && (_a = _c.return)) _a.call(_c);\n      } finally {\n        if (e_1) throw e_1.error;\n      }\n    }\n\n    b.f(\"\");\n    b.h();\n    b.e(\"}\");\n\n    if (this.aq.count > 0) {\n      b.e(\",\");\n    }\n\n    b.f(\"\");\n\n    if (this.aq.count > 0) {\n      d = true;\n      b.f(\"refs: {\");\n      b.i();\n\n      try {\n        for (var _e = tslib_1.__values(fromEnum(this.aq.keys)), _f = _e.next(); !_f.done; _f = _e.next()) {\n          var i = _f.value;\n\n          if (!this.k(i, this.aq.item(i))) {\n            continue;\n          }\n\n          if (d) {\n            d = false;\n          } else {\n            b.f(\",\");\n          }\n\n          this.ch(b, i, this.aq.item(i));\n        }\n      } catch (e_2_1) {\n        e_2 = {\n          error: e_2_1\n        };\n      } finally {\n        try {\n          if (_f && !_f.done && (_b = _e.return)) _b.call(_e);\n        } finally {\n          if (e_2) throw e_2.error;\n        }\n      }\n\n      b.f(\"\");\n      b.h();\n      b.f(\"}\");\n    }\n\n    b.h();\n    b.f(\"}\");\n    return b.toString();\n  };\n\n  ComponentRenderer.prototype.ch = function (a, b, c) {\n    a.e(\"\\\"\" + b + \"\\\": \");\n    this.ci(a, c);\n  };\n\n  ComponentRenderer.prototype.ci = function (a, b) {\n    if (this.s(b)) {\n      if (typeof b === 'string') {\n        a.e(b == null ? \"null\" : \"\\\"\" + b.toString() + \"\\\"\");\n      } else if (typeof b === 'number') {\n        a.e(b == null ? \"null\" : b.toString());\n      } else if (typeof b === 'number') {\n        a.e(b == null ? \"null\" : b.toString());\n      } else if (typeof b === 'number') {\n        a.e(b == null ? \"null\" : b.toString());\n      } else if (typeof b === 'number') {\n        a.e(b == null ? \"null\" : b.toString());\n      } else if (typeof b === 'number') {\n        a.e(b == null ? \"null\" : b.toString());\n      } else if (typeof b === 'number') {\n        a.e(b == null ? \"null\" : b.toString());\n      } else if (typeof b === 'number') {\n        a.e(b == null ? \"null\" : b.toString());\n      } else if (typeCast(Date_$type, b) !== null) {\n        var v_ = b;\n        a.e(\"\\\"\" + v_.toJSON() + \"\\\"\");\n      } else if (typeCast(Boolean_$type, b) !== null) {\n        a.e(b == null ? \"null\" : b.toString().toLowerCase());\n      } else {\n        a.e(\"null\");\n      }\n    } else {\n      if (b == null) {\n        a.e(\"null\");\n        return;\n      }\n\n      if (this.q(b)) {\n        a.f(\"[\");\n        a.i();\n        var c = new DataSourceLocalDataProvider();\n        c.dataSource = b;\n\n        for (var d = 0; d < c.actualCount; d++) {\n          if (d > 0) {\n            a.f(\",\");\n          }\n\n          this.cg(a, c, d);\n        }\n\n        a.f(\"\");\n        a.h();\n        a.e(\"]\");\n      } else {\n        var e = [b];\n        var f = new DataSourceLocalDataProvider();\n        f.dataSource = e;\n        this.cg(a, f, 0);\n      }\n    }\n  };\n\n  ComponentRenderer.prototype.s = function (a) {\n    if (typeof a === 'string') {\n      return true;\n    }\n\n    if (typeof a === 'number' || typeof a === 'number' || typeof a === 'number' || typeof a === 'number' || typeof a === 'number' || typeof a === 'number' || typeof a === 'number') {\n      return true;\n    }\n\n    if (typeCast(Date_$type, a) !== null) {\n      return true;\n    }\n\n    if (typeCast(Boolean_$type, a) !== null) {\n      return true;\n    }\n\n    return false;\n  };\n\n  ComponentRenderer.prototype.q = function (a) {\n    if (typeCast(Array_$type, a) !== null) {\n      return true;\n    }\n\n    if (typeCast(IEnumerable_$type, a) !== null) {\n      return true;\n    }\n\n    return false;\n  };\n\n  ComponentRenderer.prototype.cg = function (a, b, c) {\n    a.f(\"{\");\n    a.i();\n    var d = b.actualSchema;\n\n    for (var e = 0; e < d.propertyNames.length; e++) {\n      if (e > 0) {\n        a.f(\",\");\n      }\n\n      var f = d.propertyNames[e];\n\n      if (stringStartsWith(f, \"[\")) {\n        f = f.substr(1, f.length - 2);\n      }\n\n      a.e(\"\\\"\" + f + \"\\\"\");\n      a.e(\": \");\n      var g = b.getItemValue(b.getItemAtIndex(c), d.propertyNames[e]);\n\n      switch (d.propertyTypes[e]) {\n        case 0:\n          a.e(g == null ? \"null\" : \"\\\"\" + g.toString() + \"\\\"\");\n          break;\n\n        case 2:\n          a.e(g == null ? \"null\" : \"\\\"\" + g.toString() + \"\\\"\");\n          break;\n\n        case 10:\n        case 6:\n        case 5:\n        case 1:\n        case 3:\n        case 4:\n        case 7:\n          a.e(g == null ? \"null\" : g.toString());\n          break;\n\n        case 8:\n          var v_ = g;\n          a.e(\"\\\"\" + v_.toJSON() + \"\\\"\");\n          break;\n\n        case 11:\n          this.ci(a, g);\n          break;\n      }\n    }\n\n    a.h();\n    a.f(\"}\");\n  };\n\n  ComponentRenderer.prototype.k = function (a, b) {\n    if (b == null) {\n      return true;\n    }\n\n    var v_ = b;\n\n    if (typeof v_ === 'function') {\n      return false;\n    }\n\n    return true;\n  };\n\n  ComponentRenderer.prototype.createObjectFromJson = function (a, b) {\n    var c = new JsonDictionaryParser();\n    var d = c.parse(a);\n    var e = new DescriptionSerializer();\n    var f = false;\n    var g = e.d(this.context, d, f);\n\n    if (g.result == null) {\n      return null;\n    }\n\n    var h = DescriptionTreeBuilder.createTree(this.context, g.result);\n    var i = this.an.item(b);\n\n    if (h.b(\"Type\")) {\n      var j = h.a(\"Type\").b;\n      return this.bc(j, h, b, i);\n    } else {\n      return this.bb(typeCast(JsonDictionaryObject.$, d));\n    }\n  };\n\n  ComponentRenderer.prototype.loadJson = function (a, b) {\n    this.bz(a, b, false, false);\n  };\n\n  ComponentRenderer.prototype.loadJsonDelta = function (a, b, c) {\n    this.bz(a, b, true, c);\n  };\n\n  ComponentRenderer.prototype.bz = function (a, b, c, d) {\n    var e = new JsonDictionaryParser();\n    var f = e.parse(a);\n    var g = new DescriptionSerializer();\n    var h = null;\n\n    if (typeCast(JsonDictionaryObject.$, f) !== null) {\n      var i = f;\n\n      if (i.c(\"descriptions\")) {\n        var j = i.item(\"descriptions\");\n\n        if (typeCast(JsonDictionaryObject.$, j) !== null) {\n          var k = j;\n          var l = k.a();\n\n          for (var m = 0; m < l.length; m++) {\n            var n = l[m];\n            var o = k.item(n);\n            var p = b(n);\n\n            if (p == null) {\n              continue;\n            }\n\n            h = p;\n            var q = false;\n            var r = g.d(this.context, o, q);\n\n            if (r.result == null) {\n              continue;\n            }\n\n            this.cd(r.result, p, c, d);\n          }\n        }\n      }\n\n      if (i.c(\"refs\") && h != null) {\n        var s = i.item(\"refs\");\n\n        if (typeCast(JsonDictionaryObject.$, s) !== null) {\n          var t = s;\n          var u = t.a();\n\n          for (var v = 0; v < u.length; v++) {\n            var w = u[v];\n            var x = t.item(w);\n\n            if (typeCast(JsonDictionaryValue.$, x) !== null) {\n              var y = x;\n              this.provideRefValue(h, w, y.value);\n            } else if (typeCast(JsonDictionaryArray.$, x) !== null) {\n              var z = x;\n              var aa = this.a(z);\n              this.provideRefValue(h, w, aa);\n            } else {\n              var ab = this.bb(x);\n              this.provideRefValue(h, w, ab);\n            }\n          }\n        }\n      }\n    }\n  };\n\n  ComponentRenderer.prototype.a = function (a) {\n    var b = new Array(a.items.length);\n\n    for (var c = 0; c < a.items.length; c++) {\n      var d = this.bb(a.items[c]);\n      b[c] = d;\n    }\n\n    return b;\n  };\n\n  ComponentRenderer.prototype.bb = function (a) {\n    if (a == null) {\n      return null;\n    }\n\n    var b = {};\n    var dict_ = b;\n    var c = a.a();\n\n    for (var d = 0; d < c.length; d++) {\n      var key_ = c[d];\n\n      if (typeCast(JsonDictionaryObject.$, a.item(key_)) !== null) {\n        var val_ = this.bb(a.item(key_));\n        dict_[key_] = val_;\n      } else if (typeCast(JsonDictionaryArray.$, a.item(key_)) !== null) {\n        var val_ = this.a(a.item(key_));\n        dict_[key_] = val_;\n      } else {\n        var val_ = a.item(key_).value;\n        dict_[key_] = val_;\n      }\n    }\n\n    return dict_;\n  };\n\n  ComponentRenderer.prototype.render = function (a, b) {\n    this.cd(a, b, false, false);\n  };\n\n  ComponentRenderer.prototype.cd = function (a, b, c, d) {\n    var _this = this;\n\n    if (!this.an.containsKey(b)) {\n      this.an.item(b, new ContainerState());\n      this.an.item(b).e = b;\n    }\n\n    this.ai.item(b, a);\n    this.aj.item(b, c);\n    this.ak.item(b, d);\n    this.b0(b, function () {\n      return _this.cb(b);\n    });\n  };\n\n  ComponentRenderer.prototype.b0 = function (a, b) {\n    this.d.onUIThread(a, b);\n  };\n\n  ComponentRenderer.prototype.cb = function (a) {\n    if (this.ai.containsKey(a)) {\n      var b = this.aj.containsKey(a) ? this.aj.item(a) : false;\n      var c = this.ak.containsKey(a) ? this.ak.item(a) : false;\n      var d = this.ai.item(a);\n      this.ai.removeItem(a);\n      var e = DescriptionTreeBuilder.createTree(this.context, d);\n      var f = null;\n\n      if (this.ah.containsKey(a)) {\n        f = this.ah.item(a);\n      }\n\n      var g = DescriptionTreeReconciler.b(f, e, b);\n\n      if (b) {\n        DescriptionTreeReconciler.f(f, g);\n      } else {\n        this.ah.item(a, e);\n      }\n\n      if (!c) {\n        this.cc(a, g);\n      }\n    }\n  };\n\n  ComponentRenderer.prototype.provideRefValue = function (a, b, c) {\n    var _this = this;\n\n    this.b0(a, function () {\n      if (!_this.an.containsKey(a)) {\n        _this.an.addItem(a, function () {\n          var $ret = new ContainerState();\n          $ret.e = a;\n          return $ret;\n        }());\n      }\n\n      var d = _this.an.item(a);\n\n      _this.b4(a, b, c, true);\n    });\n  };\n\n  ComponentRenderer.prototype.removeRefValue = function (a, b) {\n    var _this = this;\n\n    this.b0(a, function () {\n      if (!_this.an.containsKey(a)) {\n        _this.an.addItem(a, function () {\n          var $ret = new ContainerState();\n          $ret.e = a;\n          return $ret;\n        }());\n      }\n\n      var c = _this.an.item(a);\n\n      _this.removeRefValueCore(a, b, true);\n    });\n  };\n\n  ComponentRenderer.prototype.clearRefValues = function (a) {\n    var _this = this;\n\n    this.b0(a, function () {\n      if (!_this.an.containsKey(a)) {\n        _this.an.addItem(a, function () {\n          var $ret = new ContainerState();\n          $ret.e = a;\n          return $ret;\n        }());\n      }\n\n      var b = _this.an.item(a);\n\n      _this.clearUserRefValues();\n    });\n  };\n\n  ComponentRenderer.prototype.cc = function (a, b) {\n    var c = this.an.item(a);\n    this.b1(a, c, b);\n  };\n\n  ComponentRenderer.prototype.cf = function (a, b) {\n    this.bw(a, b, true);\n  };\n\n  ComponentRenderer.prototype.cl = function (a, b) {\n    this.bw(a, b, false);\n  };\n\n  ComponentRenderer.prototype.bw = function (a, b, c) {\n    if (!c) {\n      if (this.ag.containsKey(a) && this.ag.item(a)) {\n        return;\n      }\n    }\n\n    this.ag.item(a, true);\n    var d = true;\n\n    while (d && this.al.item(a).count > 0) {\n      while (this.al.item(a).count > 0 && this.al.item(a).c().count < 1) {\n        this.al.item(a).b();\n      }\n\n      if (this.al.item(a).count < 1) {\n        break;\n      }\n\n      var e = this.al.item(a).c();\n\n      while (e.count > 0) {\n        var f = e.b();\n        d = this.t(a, b, f);\n\n        if (!d) {\n          break;\n        }\n      }\n    }\n\n    if (d) {\n      this.ag.item(a, false);\n    }\n  };\n\n  ComponentRenderer.prototype.b1 = function (a, b, c) {\n    var d = new Queue$1(DescriptionTreeAction.$);\n\n    for (var e = 0; e < c.count; e++) {\n      d.g(c._inner[e]);\n    }\n\n    if (!this.al.containsKey(a)) {\n      this.al.addItem(a, new Queue$1(Queue$1.$.specialize(DescriptionTreeAction.$)));\n    }\n\n    this.al.item(a).g(d);\n    this.cl(a, b);\n  };\n\n  ComponentRenderer.prototype.b2 = function (a, b, c) {\n    for (var d = 0; d < c.count; d++) {\n      this.t(a, b, c._inner[d]);\n    }\n  };\n\n  ComponentRenderer.prototype.t = function (a, b, c) {\n    switch (c.a) {\n      case 5:\n        return this.u(a, b, c);\n\n      case 2:\n        return this.v(a, b, c);\n\n      case 4:\n        return this.w(a, b, c);\n\n      case 3:\n        return this.x(a, b, c);\n\n      case 1:\n        return this.y(a, b, c);\n\n      case 0:\n        return this.z(a, b, c);\n    }\n\n    return true;\n  };\n\n  ComponentRenderer.prototype.z = function (a, b, c) {\n    var d = this.bh(a, b, c);\n    this.af(a, b, c, d);\n    return true;\n  };\n\n  ComponentRenderer.prototype.af = function (a, b, c, d) {\n    var e = this.be(c, a, b);\n    e = this.i.b(ComponentRenderer.platform, e, c);\n\n    if (c.c != null && c.c.knownType == 9) {\n      this.ad(a, b, c.h(ComponentRenderer.platform), c.c, e, d);\n    } else {\n      this.cj(a, b, c.h(ComponentRenderer.platform), e, c.g, d);\n    }\n\n    return true;\n  };\n\n  ComponentRenderer.prototype.ad = function (a, b, c, d, e, f) {\n    var e_3, _a;\n\n    if (this.ap.containsKey(c)) {\n      try {\n        for (var _b = tslib_1.__values(fromEnum(this.ap.item(c))), _c = _b.next(); !_c.done; _c = _b.next()) {\n          var g = _c.value;\n          g(c, f, e);\n        }\n      } catch (e_3_1) {\n        e_3 = {\n          error: e_3_1\n        };\n      } finally {\n        try {\n          if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        } finally {\n          if (e_3) throw e_3.error;\n        }\n      }\n    }\n\n    this.d.setOrUpdateCollectionOnTarget(a, c, d, this.context, f, e);\n    return true;\n  };\n\n  ComponentRenderer.prototype.be = function (a, b, c) {\n    if (a.c == null) {\n      return a.f;\n    }\n\n    switch (a.c.knownType) {\n      case 10:\n        return this.av(a, b, c);\n\n      case 7:\n        return this.aw(a);\n\n      case 4:\n        return this.ax(a);\n\n      case 6:\n        return this.ay(a);\n\n      case 9:\n        return this.av(a, b, c);\n\n      case 5:\n        return this.az(a);\n\n      case 16:\n        return this.a0(a);\n\n      case 20:\n        return this.bi(a, c);\n\n      case 15:\n        return null;\n\n      case 3:\n        return this.a1(a);\n\n      case 19:\n        return this.bj(a, c);\n\n      case 8:\n        return this.a3(a, b, c);\n\n      case 13:\n        return null;\n\n      case 18:\n        return this.bk(a, c);\n\n      case 1:\n        return this.a4(a);\n\n      case 11:\n        return this.a5(a);\n\n      case 14:\n        return this.a6(a);\n\n      case 12:\n        return this.a7(a);\n\n      case 2:\n        return this.a8(a);\n\n      case 21:\n        return this.a9(a);\n\n      case 17:\n        return this.ba(a, b, c);\n\n      case 0:\n        return null;\n    }\n\n    return null;\n  };\n\n  ComponentRenderer.prototype.ba = function (a, b, c) {\n    if (typeCast(DescriptionTreeNode.$, a.f) !== null) {\n      var d = a.f;\n\n      if (d.h == \"EmbeddedRef\") {\n        return this.bc(d.h, a.f, b, c);\n      }\n    }\n\n    return a.f;\n  };\n\n  ComponentRenderer.prototype.a9 = function (a) {\n    return a.f;\n  };\n\n  ComponentRenderer.prototype.a8 = function (a) {\n    return a.f != null ? a.f.toString() : null;\n  };\n\n  ComponentRenderer.prototype.a7 = function (a) {\n    var b = a.f;\n    var width_ = b.width;\n    var height_ = b.height;\n    var c = {\n      width: width_,\n      height: height_\n    };\n    return c;\n  };\n\n  ComponentRenderer.prototype.a6 = function (a) {\n    var b = a.f;\n    var top_ = b.top;\n    var left_ = b.left;\n    var width_ = b.width;\n    var height_ = b.height;\n    var c = {\n      left: left_,\n      top: top_,\n      width: width_,\n      height: height_\n    };\n    return c;\n  };\n\n  ComponentRenderer.prototype.a5 = function (a) {\n    var b = a.f;\n    var x_ = b.x;\n    var y_ = b.y;\n    var c = {\n      x: x_,\n      y: y_\n    };\n    return c;\n  };\n\n  ComponentRenderer.prototype.a4 = function (a) {\n    if (a.f == null) {\n      if (a.c != null && (a.c.specificType == \"double\" || a.c.specificType == \"float\")) {\n        return NaN;\n      }\n\n      return 0;\n    }\n\n    return a.f;\n  };\n\n  ComponentRenderer.prototype.b = function (a) {\n    if (this.am.containsKey(a)) {\n      var b = this.am.item(a);\n      return b;\n    }\n\n    var c = new DescriptionRef(a);\n    this.am.addItem(a, c);\n    return c;\n  };\n\n  ComponentRenderer.prototype.bk = function (a, b) {\n    return a.f == null ? null : this.b(a.f);\n  };\n\n  ComponentRenderer.prototype.a3 = function (a, b, c) {\n    var d = a.c.specificType;\n\n    if (d == null) {\n      d = a.c.specificExternalType;\n    }\n\n    if (typeCast(DescriptionTreeNode.$, a.f) !== null) {\n      var e = a.f;\n\n      if (e.b(\"Type\")) {\n        d = e.a(\"Type\").b;\n      }\n    }\n\n    var f = this.bc(d, a.f, b, c);\n    return f;\n  };\n\n  ComponentRenderer.prototype.bj = function (a, b) {\n    return a.f == null ? null : this.b(a.f);\n  };\n\n  ComponentRenderer.prototype.a1 = function (a) {\n    return a.f;\n  };\n\n  ComponentRenderer.prototype.bi = function (a, b) {\n    return a.f == null ? null : this.b(a.f);\n  };\n\n  ComponentRenderer.prototype.bm = function (a) {\n    return a;\n  };\n\n  ComponentRenderer.prototype.a0 = function (a) {\n    var b = a.f;\n\n    if (b == null) {\n      return null;\n    }\n\n    var c = new Array(b.length);\n\n    for (var d = 0; d < b.length; d++) {\n      c[d] = this.bm(b[d]);\n    }\n\n    return c;\n  };\n\n  ComponentRenderer.prototype.az = function (a) {\n    return this.bm(a.f);\n  };\n\n  ComponentRenderer.prototype.ay = function (a) {\n    var b = a.f;\n\n    if (b == null) {\n      return null;\n    }\n\n    var c = new Array(b.length);\n\n    for (var d = 0; d < b.length; d++) {\n      c[d] = this.bl(b[d]);\n    }\n\n    return c;\n  };\n\n  ComponentRenderer.prototype.bl = function (a) {\n    return a;\n  };\n\n  ComponentRenderer.prototype.ax = function (a) {\n    return this.bl(a.f);\n  };\n\n  ComponentRenderer.prototype.aw = function (a) {\n    return a.f;\n  };\n\n  ComponentRenderer.prototype.addPropertyUpdatingListener = function (a, b) {\n    if (!this.ap.containsKey(a)) {\n      this.ap.addItem(a, new List$1(Delegate_$type, 0));\n    }\n\n    this.ap.item(a).add(b);\n  };\n\n  ComponentRenderer.prototype.addReferenceLookupListener = function (a) {\n    this.ar.add(a);\n  };\n\n  ComponentRenderer.prototype.removePropertyUpdatingListener = function (a, b) {\n    if (this.ap.containsKey(a)) {\n      this.ap.item(a).remove(b);\n\n      if (this.ap.item(a).count == 0) {\n        this.ap.removeItem(a);\n      }\n    }\n  };\n\n  ComponentRenderer.prototype.addNamespaceLookupListener = function (a) {\n    this.as.add(a);\n  };\n\n  ComponentRenderer.prototype.removeNamespaceLookupListener = function (a) {\n    this.as.remove(a);\n  };\n\n  ComponentRenderer.prototype.av = function (a, b, c) {\n    if (a.f == null) {\n      return null;\n    }\n\n    var d = a.f;\n    var e = new List$1(Base.$, 0);\n    var f = a.c.specificType;\n\n    if (f == null) {\n      f = a.c.specificExternalType;\n    }\n\n    if (a.c.knownType == 9) {\n      f = a.c.collectionElementType;\n\n      if (f == null) {\n        f = a.c.specificExternalType;\n      }\n    }\n\n    for (var g = 0; g < d.length; g++) {\n      var h = f;\n\n      if (typeCast(DescriptionTreeNode.$, d[g]) !== null) {\n        var i = d[g];\n\n        if (i.b(\"Type\")) {\n          h = i.a(\"Type\").b;\n        }\n      }\n\n      var j = this.bc(h, d[g], b, c);\n      e.add1(j);\n    }\n\n    return e.toArray();\n  };\n\n  ComponentRenderer.prototype.cj = function (a, b, c, d, e, f) {\n    var _this = this;\n\n    if (typeCast(DescriptionRef.$, d) !== null) {\n      var g = d;\n      var h = false;\n\n      if (e != null && typeof e === 'string') {\n        if (this.n(e)) {\n          var i = this.c(e);\n\n          if (Base.equalsStatic(i, d)) {\n            h = true;\n          } else {\n            i.i(f, c);\n          }\n        }\n      }\n\n      if (this.o(d)) {\n        d = this.bg(d);\n        this.ck(f, c, d, e);\n      }\n\n      var j = null;\n\n      j = function (k, l) {\n        var m = _this.bg(k);\n\n        _this.ck(f, c, m, e);\n      };\n\n      if (!h) {\n        g.f(f, c, j);\n      }\n\n      return;\n    }\n\n    this.ck(f, c, d, e);\n  };\n\n  ComponentRenderer.prototype.hasUserRef = function (a) {\n    return this.aq.containsKey(a);\n  };\n\n  Object.defineProperty(ComponentRenderer.prototype, \"shouldNamespaceSystemRefValues\", {\n    get: function () {\n      return this._shouldNamespaceSystemRefValues;\n    },\n    set: function (a) {\n      this._shouldNamespaceSystemRefValues = a;\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  ComponentRenderer.prototype.b4 = function (a, b, c, d) {\n    var e = null;\n\n    if (d) {\n      if (this.aq.containsKey(b)) {\n        e = this.aq.item(b);\n      }\n\n      this.aq.item(b, c);\n    } else {\n      if (this.shouldNamespaceSystemRefValues) {\n        var f = \"\";\n\n        if (this.as != null && this.as.count > 0) {\n          for (var g = 0; g < this.as.count; g++) {\n            f = this.as._inner[g](a);\n          }\n        }\n\n        if (!stringIsNullOrEmpty(f)) {\n          b = f + \"/\" + b;\n        }\n      }\n\n      if (this.ao.containsKey(b)) {\n        e = this.ao.item(b);\n      }\n\n      this.ao.item(b, c);\n    }\n\n    if (this.am.containsKey(b)) {\n      this.am.item(b).e(e, c);\n    }\n  };\n\n  ComponentRenderer.prototype.removeRefValueCore = function (a, b, c) {\n    var d = null;\n\n    if (c) {\n      if (this.aq.containsKey(b)) {\n        d = this.aq.item(b);\n      }\n\n      this.aq.removeItem(b);\n    } else {\n      if (this.shouldNamespaceSystemRefValues) {\n        var e = \"\";\n\n        if (this.as != null && this.as.count > 0) {\n          for (var f = 0; f < this.as.count; f++) {\n            e = this.as._inner[f](a);\n          }\n        }\n\n        if (!stringIsNullOrEmpty(e)) {\n          b = e + \"/\" + b;\n        }\n      }\n\n      if (this.ao.containsKey(b)) {\n        d = this.ao.item(b);\n      }\n\n      this.ao.removeItem(b);\n    }\n\n    if (this.am.containsKey(b)) {\n      this.am.item(b).e(d, this.bg(this.am.item(b)));\n\n      if (this.am.item(b).b <= 0) {\n        this.am.item(b).g();\n        this.am.removeItem(b);\n      }\n    }\n  };\n\n  ComponentRenderer.prototype.clearUserRefValues = function () {\n    var e_4, _a, e_5, _b;\n\n    var a = new List$1(String_$type, 0);\n\n    try {\n      for (var _c = tslib_1.__values(fromEnum(this.aq.keys)), _d = _c.next(); !_d.done; _d = _c.next()) {\n        var b = _d.value;\n        a.add(b);\n      }\n    } catch (e_4_1) {\n      e_4 = {\n        error: e_4_1\n      };\n    } finally {\n      try {\n        if (_d && !_d.done && (_a = _c.return)) _a.call(_c);\n      } finally {\n        if (e_4) throw e_4.error;\n      }\n    }\n\n    try {\n      for (var _e = tslib_1.__values(fromEnum(a)), _f = _e.next(); !_f.done; _f = _e.next()) {\n        var c = _f.value;\n        this.removeRefValueCore(null, c, true);\n      }\n    } catch (e_5_1) {\n      e_5 = {\n        error: e_5_1\n      };\n    } finally {\n      try {\n        if (_f && !_f.done && (_b = _e.return)) _b.call(_e);\n      } finally {\n        if (e_5) throw e_5.error;\n      }\n    }\n  };\n\n  ComponentRenderer.prototype.o = function (a) {\n    return this.aq.containsKey(a.d) || this.ao.containsKey(a.d);\n  };\n\n  ComponentRenderer.prototype.bg = function (a) {\n    if (this.aq.containsKey(a.d)) {\n      return this.aq.item(a.d);\n    }\n\n    if (this.ao.containsKey(a.d)) {\n      return this.ao.item(a.d);\n    }\n\n    return null;\n  };\n\n  ComponentRenderer.prototype.n = function (a) {\n    return this.am.containsKey(a);\n  };\n\n  ComponentRenderer.prototype.c = function (a) {\n    return this.am.item(a);\n  };\n\n  ComponentRenderer.prototype.bh = function (a, b, c) {\n    return b.f(c.b.f);\n  };\n\n  ComponentRenderer.prototype.y = function (a, b, c) {\n    var d = this.bh(a, b, c);\n    this.ac(a, b, c, d);\n    return true;\n  };\n\n  ComponentRenderer.prototype.ac = function (a, b, c, d) {\n    this.d.resetPropertyOnTarget(a, c.h(ComponentRenderer.platform), c.c, d);\n    return true;\n  };\n\n  ComponentRenderer.prototype.x = function (a, b, c) {\n    if (c.b == null) {\n      return this.ab(a, b, c);\n    } else {\n      var d = this.bh(a, b, c);\n      this.ce(a, b, c, d);\n    }\n\n    return true;\n  };\n\n  ComponentRenderer.prototype.ce = function (a, b, c, d) {\n    var e = c.h(ComponentRenderer.platform);\n    var f = this.bc(c.c.collectionElementType, c.f, a, b);\n    this.d.replaceItemInCollection(e, c.c, d, c.d, f);\n\n    if (c.g != null && typeCast(DescriptionTreeNode.$, c.g) !== null) {\n      var g = c.g.f;\n\n      if (g >= 0) {\n        var h = b.f(g);\n\n        if (h != null) {\n          this.bv(a, h, b);\n        }\n      }\n    }\n  };\n\n  ComponentRenderer.prototype.ab = function (a, b, c) {\n    var _this = this;\n\n    var d = this.d.getRootObject(a);\n\n    if (d != null) {\n      this.bv(a, d, b);\n    }\n\n    if (!(typeCast(DescriptionTreeNode.$, c.f) !== null)) {\n      throw new NotImplementedException(0);\n    }\n\n    var e = c.f;\n    var f = false;\n    this.d.replaceRootItem(a, e.h, this.context, function (g) {\n      var h = _this.d.getRootObject(a);\n\n      b.g(a, e.f, h, e, runOn(_this, _this.b4));\n\n      var i = _this.at(e);\n\n      _this.b2(a, b, i);\n\n      f = true;\n\n      if (g) {\n        _this.cf(a, b);\n      }\n    });\n    return f;\n  };\n\n  ComponentRenderer.prototype.bv = function (a, b, c) {\n    var e_6, _a;\n\n    var d = this.au(a, b, c);\n\n    try {\n      for (var _b = tslib_1.__values(fromEnum(this.am.values)), _c = _b.next(); !_c.done; _c = _b.next()) {\n        var e = _c.value;\n        e.h(b);\n      }\n    } catch (e_6_1) {\n      e_6 = {\n        error: e_6_1\n      };\n    } finally {\n      try {\n        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n      } finally {\n        if (e_6) throw e_6.error;\n      }\n    }\n\n    if (d != -1) {\n      c.h(a, d, runOn(this, this.removeRefValueCore));\n    }\n\n    this.f.b(ComponentRenderer.platform, b);\n  };\n\n  ComponentRenderer.prototype.au = function (a, b, c) {\n    return c.d(b);\n  };\n\n  ComponentRenderer.prototype.w = function (a, b, c) {\n    if (c.b == null) {\n      return this.aa(a, b, c);\n    } else {\n      var d = this.bh(a, b, c);\n      this.b5(a, b, c, d);\n    }\n\n    return true;\n  };\n\n  ComponentRenderer.prototype.b5 = function (a, b, c, d) {\n    var e = c.h(ComponentRenderer.platform);\n    this.d.removeItemFromCollection(e, c.c, d, c.e);\n\n    if (c.g != null && typeCast(DescriptionTreeNode.$, c.g) !== null) {\n      var f = c.g.f;\n\n      if (f >= 0) {\n        var g = b.f(f);\n\n        if (g != null) {\n          this.bv(a, g, b);\n        }\n      }\n    }\n  };\n\n  ComponentRenderer.prototype.aa = function (a, b, c) {\n    var _this = this;\n\n    var d = this.d.getRootObject(a);\n\n    if (d != null) {\n      this.bv(a, d, b);\n    }\n\n    var e = false;\n    this.d.removeRootItem(a, this.context, function (f) {\n      e = true;\n\n      if (f) {\n        _this.cf(a, b);\n      }\n    });\n    return e;\n  };\n\n  ComponentRenderer.prototype.v = function (a, b, c) {\n    if (c.b == null) {\n      return this.j(a, b, c);\n    } else {\n      var d = this.bh(a, b, c);\n      this.bo(a, b, c, d);\n    }\n\n    return true;\n  };\n\n  ComponentRenderer.prototype.j = function (a, b, c) {\n    var _this = this;\n\n    if (!(typeCast(DescriptionTreeNode.$, c.f) !== null)) {\n      throw new NotImplementedException(0);\n    }\n\n    var d = c.f;\n    var e = false;\n    this.d.replaceRootItem(a, d.h, this.context, function (f) {\n      var g = _this.d.getRootObject(a);\n\n      b.g(a, d.f, g, d, runOn(_this, _this.b4));\n\n      var h = _this.at(d);\n\n      _this.b2(a, b, h);\n\n      e = true;\n\n      if (f) {\n        _this.cf(a, b);\n      }\n    });\n    return e;\n  };\n\n  ComponentRenderer.prototype.bo = function (a, b, c, d) {\n    var e = c.h(ComponentRenderer.platform);\n    var f = c.c.collectionElementType;\n\n    if (typeCast(DescriptionTreeNode.$, c.f) !== null) {\n      var g = c.f;\n\n      if (g.b(\"Type\")) {\n        f = g.a(\"Type\").b;\n      }\n    }\n\n    var h = this.bc(f, c.f, a, b);\n    this.d.addItemToCollection(e, c.c, d, c.d, h);\n  };\n\n  ComponentRenderer.prototype.bc = function (a, b, c, d) {\n    if (this.r(a)) {\n      return b;\n    }\n\n    var e = null;\n\n    if (b != null && typeCast(DescriptionTreeNode.$, b) !== null) {\n      var f = b;\n\n      if (f.b(\"Name\")) {\n        var g = f.a(\"Name\").b;\n\n        if (!stringIsNullOrEmpty(g)) {\n          if (this.shouldNamespaceSystemRefValues) {\n            var h = \"\";\n\n            if (this.as != null && this.as.count > 0) {\n              for (var i = 0; i < this.as.count; i++) {\n                h = this.as._inner[i](c);\n              }\n            }\n\n            if (!stringIsNullOrEmpty(h)) {\n              g = h + \"/\" + g;\n            }\n          }\n\n          if (this.ao.containsKey(g)) {\n            var j = this.ao.item(g);\n            e = j;\n          }\n        }\n      }\n\n      if (e == null) {\n        e = this.context.j(a, c);\n      }\n    } else {\n      e = this.context.j(a, c);\n    }\n\n    if (b == null) {\n      return e;\n    }\n\n    if (typeCast(DescriptionTreeNode.$, b) !== null) {\n      var k = b;\n\n      if (k.h == \"EmbeddedRef\") {\n        var l = \"uuid\";\n        var m = null;\n\n        for (var n = 0; n < k.e().count; n++) {\n          if (k.e()._inner[n].c == \"RefType\") {\n            l = k.e()._inner[n].b;\n          }\n\n          if (k.e()._inner[n].c == \"Value\") {\n            m = k.e()._inner[n].b;\n          }\n        }\n\n        if (m != null) {\n          for (var o = 0; o < this.ar.count; o++) {\n            var p = this.ar._inner[o](c, l, m);\n\n            if (p != null) {\n              return p;\n            }\n          }\n\n          return null;\n        }\n      } else {\n        d.g(c, k.f, e, k, runOn(this, this.b4));\n        var q = this.at(k);\n        this.b2(c, d, q);\n      }\n    }\n\n    if (typeof b === 'string' && a.toLowerCase() != \"string\") {\n      return this.a2(a, b);\n    }\n\n    if (a == \"object\" || a == \"Object\") {\n      return b;\n    }\n\n    return e;\n  };\n\n  ComponentRenderer.prototype.r = function (a) {\n    return a == \"int\" || a == \"Int32\" || a == \"short\" || a == \"Int16\" || a == \"double\" || a == \"Double\" || a == \"float\" || a == \"Float\" || a == \"Single\" || a == \"single\" || a == \"DateTime\" || a == \"decimal\" || a == \"Decimal\" || a == \"long\" || a == \"Int64\" || a == \"byte\" || a == \"bool\" || a == \"string\" || a == \"String\";\n  };\n\n  ComponentRenderer.prototype.a2 = function (a, b) {\n    return this.context.f(a, b);\n  };\n\n  ComponentRenderer.prototype.at = function (a) {\n    var b = a.e();\n    var c = new List$1(DescriptionTreeAction.$, 0);\n\n    for (var d = 0; d < b.count; d++) {\n      var e = new DescriptionTreeAction();\n      e.a = 0;\n      e.i = b._inner[d].c;\n      e.c = b._inner[d].a;\n      e.b = a;\n      e.f = b._inner[d].b;\n      c.add(e);\n    }\n\n    return c;\n  };\n\n  ComponentRenderer.prototype.u = function (a, b, c) {\n    if (c.b == null) {\n      return this.m(a, b, c);\n    } else {\n      var d = this.bh(a, b, c);\n      this.bs(a, b, c, d);\n    }\n\n    return true;\n  };\n\n  ComponentRenderer.prototype.bs = function (a, b, c, d) {\n    var e = c.h(ComponentRenderer.platform);\n    this.d.clearCollection(d, e, c.c);\n\n    if (c.g != null && typeCast(Array_$type, c.g) !== null) {\n      var f = c.g;\n\n      for (var g = 0; g < f.length; g++) {\n        var h = f[g];\n\n        if (h != null && typeCast(DescriptionTreeNode.$, h) !== null) {\n          var i = h.f;\n\n          if (i >= 0) {\n            var j = b.f(i);\n\n            if (j != null) {\n              this.bv(a, j, b);\n            }\n          }\n        }\n      }\n    }\n  };\n\n  ComponentRenderer.prototype.ck = function (a, b, c, d) {\n    var e_7, _a;\n\n    if (this.ap.containsKey(b)) {\n      try {\n        for (var _b = tslib_1.__values(fromEnum(this.ap.item(b))), _c = _b.next(); !_c.done; _c = _b.next()) {\n          var e = _c.value;\n          e(b, a, c);\n        }\n      } catch (e_7_1) {\n        e_7 = {\n          error: e_7_1\n        };\n      } finally {\n        try {\n          if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        } finally {\n          if (e_7) throw e_7.error;\n        }\n      }\n    }\n\n    this.d.setPropertyValue(a, b, c, d);\n  };\n\n  ComponentRenderer.prototype.bf = function (a, b) {\n    return this.d.getPropertyValue(a, b);\n  };\n\n  ComponentRenderer.prototype.m = function (a, b, c) {\n    return this.l(a, b);\n  };\n\n  ComponentRenderer.prototype.l = function (a, b) {\n    var _this = this;\n\n    var c = this.d.getRootObject(a);\n\n    if (c != null) {\n      this.bv(a, c, b);\n    }\n\n    var d = false;\n    this.d.clearContainer(a, this.context, function (e) {\n      d = true;\n\n      if (e) {\n        _this.cf(a, b);\n      }\n    });\n    return d;\n  };\n\n  ComponentRenderer.$t = markType(ComponentRenderer, 'ComponentRenderer');\n  ComponentRenderer.platform = 3;\n  return ComponentRenderer;\n}(Base);\n\nexport { ComponentRenderer };","map":{"version":3,"sources":["../../../../src/igniteui-core/lib/ComponentRenderer.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport * as tslib_1 from \"tslib\";\nimport { Base, IEnumerable_$type, fromEnum, typeCast, Date_$type, Boolean_$type, Array_$type, String_$type, Delegate_$type, runOn, markType } from \"./type\";\nimport { TypeDescriptionContext } from \"./TypeDescriptionContext\";\nimport { TypeDescriptionPropretyTransforms } from \"./TypeDescriptionPropretyTransforms\";\nimport { TypeDescriptionCleanups } from \"./TypeDescriptionCleanups\";\nimport { Dictionary$2 } from \"./Dictionary$2\";\nimport { Description } from \"./Description\";\nimport { DescriptionTreeNode } from \"./DescriptionTreeNode\";\nimport { ContainerState } from \"./ContainerState\";\nimport { Queue$1 } from \"./Queue$1\";\nimport { DescriptionTreeAction } from \"./DescriptionTreeAction\";\nimport { DescriptionRef } from \"./DescriptionRef\";\nimport { List$1 } from \"./List$1\";\nimport { DescriptionSerializerBuilder } from \"./DescriptionSerializerBuilder\";\nimport { DescriptionSerializer } from \"./DescriptionSerializer\";\nimport { DataSourceLocalDataProvider } from \"./DataSourceLocalDataProvider\";\nimport { JsonDictionaryParser } from \"./JsonDictionaryParser\";\nimport { DescriptionTreeBuilder } from \"./DescriptionTreeBuilder\";\nimport { JsonDictionaryObject } from \"./JsonDictionaryObject\";\nimport { JsonDictionaryValue } from \"./JsonDictionaryValue\";\nimport { JsonDictionaryArray } from \"./JsonDictionaryArray\";\nimport { DescriptionTreeReconciler } from \"./DescriptionTreeReconciler\";\nimport { NotImplementedException } from \"./NotImplementedException\";\nimport { ComponentRendererAdapter } from \"./ComponentRendererAdapter\";\nimport { stringIsNullOrEmpty, stringStartsWith } from \"./string\";\n/**\n * @hidden\n */\nvar ComponentRenderer = /** @class */ /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(ComponentRenderer, _super);\n    function ComponentRenderer() {\n        var _this = _super.call(this) || this;\n        _this.d = null;\n        _this._context = null;\n        _this.i = null;\n        _this.f = null;\n        _this.ai = new Dictionary$2(Base.$, Description.$, 0);\n        _this.aj = new Dictionary$2(Base.$, Boolean_$type, 0);\n        _this.ak = new Dictionary$2(Base.$, Boolean_$type, 0);\n        _this.ah = new Dictionary$2(Base.$, DescriptionTreeNode.$, 0);\n        _this.an = new Dictionary$2(Base.$, ContainerState.$, 0);\n        _this.al = new Dictionary$2(Base.$, Queue$1.$.specialize(Queue$1.$.specialize(DescriptionTreeAction.$)), 0);\n        _this.ag = new Dictionary$2(Base.$, Boolean_$type, 0);\n        _this.am = new Dictionary$2(String_$type, DescriptionRef.$, 0);\n        _this.ao = new Dictionary$2(String_$type, Base.$, 0);\n        _this.aq = new Dictionary$2(String_$type, Base.$, 0);\n        _this.ap = new Dictionary$2(String_$type, List$1.$.specialize(Delegate_$type), 0);\n        _this.ar = new List$1(Delegate_$type, 0);\n        _this.as = new List$1(Delegate_$type, 0);\n        _this._shouldNamespaceSystemRefValues = false;\n        var a = _this.e();\n        _this.d = a;\n        _this.context = new TypeDescriptionContext(a, ComponentRenderer.platform);\n        _this.i = new TypeDescriptionPropretyTransforms();\n        _this.f = new TypeDescriptionCleanups();\n        return _this;\n    }\n    Object.defineProperty(ComponentRenderer.prototype, \"context\", {\n        get: function () {\n            return this._context;\n        },\n        set: function (a) {\n            this._context = a;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ComponentRenderer.prototype.e = function () {\n        return (new ComponentRendererAdapter());\n    };\n    ComponentRenderer.prototype.toJson = function (a) {\n        var e_1, _a, e_2, _b;\n        var b = new DescriptionSerializerBuilder();\n        var c = new DescriptionSerializer();\n        b.f(\"{\");\n        b.i();\n        b.f(\"\\\"descriptions\\\": {\");\n        b.i();\n        var d = true;\n        try {\n            for (var _c = tslib_1.__values(fromEnum(this.ah.keys)), _d = _c.next(); !_d.done; _d = _c.next()) {\n                var e = _d.value;\n                if (d) {\n                    d = false;\n                }\n                else {\n                    b.f(\",\");\n                }\n                var f = e;\n                var g = this.ah.item(e);\n                var h = \"root\";\n                h = a(f);\n                if (stringIsNullOrEmpty(h)) {\n                    h = \"root\";\n                }\n                b.e(\"\\\"\" + h + \"\\\"\");\n                b.e(\": \");\n                c.o(this.context, g, b);\n            }\n        }\n        catch (e_1_1) {\n            e_1 = { error: e_1_1 };\n        }\n        finally {\n            try {\n                if (_d && !_d.done && (_a = _c.return))\n                    _a.call(_c);\n            }\n            finally {\n                if (e_1)\n                    throw e_1.error;\n            }\n        }\n        b.f(\"\");\n        b.h();\n        b.e(\"}\");\n        if (this.aq.count > 0) {\n            b.e(\",\");\n        }\n        b.f(\"\");\n        if (this.aq.count > 0) {\n            d = true;\n            b.f(\"refs: {\");\n            b.i();\n            try {\n                for (var _e = tslib_1.__values(fromEnum(this.aq.keys)), _f = _e.next(); !_f.done; _f = _e.next()) {\n                    var i = _f.value;\n                    if (!this.k(i, this.aq.item(i))) {\n                        continue;\n                    }\n                    if (d) {\n                        d = false;\n                    }\n                    else {\n                        b.f(\",\");\n                    }\n                    this.ch(b, i, this.aq.item(i));\n                }\n            }\n            catch (e_2_1) {\n                e_2 = { error: e_2_1 };\n            }\n            finally {\n                try {\n                    if (_f && !_f.done && (_b = _e.return))\n                        _b.call(_e);\n                }\n                finally {\n                    if (e_2)\n                        throw e_2.error;\n                }\n            }\n            b.f(\"\");\n            b.h();\n            b.f(\"}\");\n        }\n        b.h();\n        b.f(\"}\");\n        return b.toString();\n    };\n    ComponentRenderer.prototype.ch = function (a, b, c) {\n        a.e(\"\\\"\" + b + \"\\\": \");\n        this.ci(a, c);\n    };\n    ComponentRenderer.prototype.ci = function (a, b) {\n        if (this.s(b)) {\n            if (typeof b === 'string') {\n                a.e(b == null ? \"null\" : \"\\\"\" + b.toString() + \"\\\"\");\n            }\n            else if (typeof b === 'number') {\n                a.e(b == null ? \"null\" : b.toString());\n            }\n            else if (typeof b === 'number') {\n                a.e(b == null ? \"null\" : b.toString());\n            }\n            else if (typeof b === 'number') {\n                a.e(b == null ? \"null\" : b.toString());\n            }\n            else if (typeof b === 'number') {\n                a.e(b == null ? \"null\" : b.toString());\n            }\n            else if (typeof b === 'number') {\n                a.e(b == null ? \"null\" : b.toString());\n            }\n            else if (typeof b === 'number') {\n                a.e(b == null ? \"null\" : b.toString());\n            }\n            else if (typeof b === 'number') {\n                a.e(b == null ? \"null\" : b.toString());\n            }\n            else if (typeCast(Date_$type, b) !== null) {\n                var v_ = b;\n                a.e(\"\\\"\" + (v_.toJSON()) + \"\\\"\");\n            }\n            else if (typeCast(Boolean_$type, b) !== null) {\n                a.e(b == null ? \"null\" : b.toString().toLowerCase());\n            }\n            else {\n                a.e(\"null\");\n            }\n        }\n        else {\n            if (b == null) {\n                a.e(\"null\");\n                return;\n            }\n            if (this.q(b)) {\n                a.f(\"[\");\n                a.i();\n                var c = new DataSourceLocalDataProvider();\n                c.dataSource = b;\n                for (var d = 0; d < c.actualCount; d++) {\n                    if (d > 0) {\n                        a.f(\",\");\n                    }\n                    this.cg(a, c, d);\n                }\n                a.f(\"\");\n                a.h();\n                a.e(\"]\");\n            }\n            else {\n                var e = [b];\n                var f = new DataSourceLocalDataProvider();\n                f.dataSource = e;\n                this.cg(a, f, 0);\n            }\n        }\n    };\n    ComponentRenderer.prototype.s = function (a) {\n        if (typeof a === 'string') {\n            return true;\n        }\n        if (typeof a === 'number' || typeof a === 'number' || typeof a === 'number' || typeof a === 'number' || typeof a === 'number' || typeof a === 'number' || typeof a === 'number') {\n            return true;\n        }\n        if (typeCast(Date_$type, a) !== null) {\n            return true;\n        }\n        if (typeCast(Boolean_$type, a) !== null) {\n            return true;\n        }\n        return false;\n    };\n    ComponentRenderer.prototype.q = function (a) {\n        if (typeCast(Array_$type, a) !== null) {\n            return true;\n        }\n        if (typeCast(IEnumerable_$type, a) !== null) {\n            return true;\n        }\n        return false;\n    };\n    ComponentRenderer.prototype.cg = function (a, b, c) {\n        a.f(\"{\");\n        a.i();\n        var d = b.actualSchema;\n        for (var e = 0; e < d.propertyNames.length; e++) {\n            if (e > 0) {\n                a.f(\",\");\n            }\n            var f = d.propertyNames[e];\n            if (stringStartsWith(f, \"[\")) {\n                f = f.substr(1, f.length - 2);\n            }\n            a.e(\"\\\"\" + f + \"\\\"\");\n            a.e(\": \");\n            var g = b.getItemValue(b.getItemAtIndex(c), d.propertyNames[e]);\n            switch (d.propertyTypes[e]) {\n                case 0:\n                    a.e(g == null ? \"null\" : \"\\\"\" + g.toString() + \"\\\"\");\n                    break;\n                case 2:\n                    a.e(g == null ? \"null\" : \"\\\"\" + g.toString() + \"\\\"\");\n                    break;\n                case 10:\n                case 6:\n                case 5:\n                case 1:\n                case 3:\n                case 4:\n                case 7:\n                    a.e(g == null ? \"null\" : g.toString());\n                    break;\n                case 8:\n                    var v_ = g;\n                    a.e(\"\\\"\" + (v_.toJSON()) + \"\\\"\");\n                    break;\n                case 11:\n                    this.ci(a, g);\n                    break;\n            }\n        }\n        a.h();\n        a.f(\"}\");\n    };\n    ComponentRenderer.prototype.k = function (a, b) {\n        if (b == null) {\n            return true;\n        }\n        var v_ = b;\n        if ((typeof v_ === 'function')) {\n            return false;\n        }\n        return true;\n    };\n    ComponentRenderer.prototype.createObjectFromJson = function (a, b) {\n        var c = new JsonDictionaryParser();\n        var d = c.parse(a);\n        var e = new DescriptionSerializer();\n        var f = false;\n        var g = e.d(this.context, d, f);\n        if (g.result == null) {\n            return null;\n        }\n        var h = DescriptionTreeBuilder.createTree(this.context, g.result);\n        var i = this.an.item(b);\n        if (h.b(\"Type\")) {\n            var j = h.a(\"Type\").b;\n            return this.bc(j, h, b, i);\n        }\n        else {\n            return this.bb(typeCast(JsonDictionaryObject.$, d));\n        }\n    };\n    ComponentRenderer.prototype.loadJson = function (a, b) {\n        this.bz(a, b, false, false);\n    };\n    ComponentRenderer.prototype.loadJsonDelta = function (a, b, c) {\n        this.bz(a, b, true, c);\n    };\n    ComponentRenderer.prototype.bz = function (a, b, c, d) {\n        var e = new JsonDictionaryParser();\n        var f = e.parse(a);\n        var g = new DescriptionSerializer();\n        var h = null;\n        if (typeCast(JsonDictionaryObject.$, f) !== null) {\n            var i = f;\n            if (i.c(\"descriptions\")) {\n                var j = i.item(\"descriptions\");\n                if (typeCast(JsonDictionaryObject.$, j) !== null) {\n                    var k = j;\n                    var l = k.a();\n                    for (var m = 0; m < l.length; m++) {\n                        var n = l[m];\n                        var o = k.item(n);\n                        var p = b(n);\n                        if (p == null) {\n                            continue;\n                        }\n                        h = p;\n                        var q = false;\n                        var r = g.d(this.context, o, q);\n                        if (r.result == null) {\n                            continue;\n                        }\n                        this.cd(r.result, p, c, d);\n                    }\n                }\n            }\n            if (i.c(\"refs\") && h != null) {\n                var s = i.item(\"refs\");\n                if (typeCast(JsonDictionaryObject.$, s) !== null) {\n                    var t = s;\n                    var u = t.a();\n                    for (var v = 0; v < u.length; v++) {\n                        var w = u[v];\n                        var x = t.item(w);\n                        if (typeCast(JsonDictionaryValue.$, x) !== null) {\n                            var y = x;\n                            this.provideRefValue(h, w, y.value);\n                        }\n                        else if (typeCast(JsonDictionaryArray.$, x) !== null) {\n                            var z = x;\n                            var aa = this.a(z);\n                            this.provideRefValue(h, w, aa);\n                        }\n                        else {\n                            var ab = this.bb(x);\n                            this.provideRefValue(h, w, ab);\n                        }\n                    }\n                }\n            }\n        }\n    };\n    ComponentRenderer.prototype.a = function (a) {\n        var b = new Array(a.items.length);\n        for (var c = 0; c < a.items.length; c++) {\n            var d = this.bb(a.items[c]);\n            b[c] = d;\n        }\n        return b;\n    };\n    ComponentRenderer.prototype.bb = function (a) {\n        if (a == null) {\n            return null;\n        }\n        var b = {};\n        var dict_ = b;\n        var c = a.a();\n        for (var d = 0; d < c.length; d++) {\n            var key_ = c[d];\n            if (typeCast(JsonDictionaryObject.$, a.item(key_)) !== null) {\n                var val_ = this.bb(a.item(key_));\n                dict_[key_] = val_;\n            }\n            else if (typeCast(JsonDictionaryArray.$, a.item(key_)) !== null) {\n                var val_ = this.a(a.item(key_));\n                dict_[key_] = val_;\n            }\n            else {\n                var val_ = a.item(key_).value;\n                dict_[key_] = val_;\n            }\n        }\n        return dict_;\n    };\n    ComponentRenderer.prototype.render = function (a, b) {\n        this.cd(a, b, false, false);\n    };\n    ComponentRenderer.prototype.cd = function (a, b, c, d) {\n        var _this = this;\n        if (!this.an.containsKey(b)) {\n            this.an.item(b, new ContainerState());\n            this.an.item(b).e = b;\n        }\n        this.ai.item(b, a);\n        this.aj.item(b, c);\n        this.ak.item(b, d);\n        this.b0(b, function () { return _this.cb(b); });\n    };\n    ComponentRenderer.prototype.b0 = function (a, b) {\n        this.d.onUIThread(a, b);\n    };\n    ComponentRenderer.prototype.cb = function (a) {\n        if (this.ai.containsKey(a)) {\n            var b = this.aj.containsKey(a) ? this.aj.item(a) : false;\n            var c = this.ak.containsKey(a) ? this.ak.item(a) : false;\n            var d = this.ai.item(a);\n            this.ai.removeItem(a);\n            var e = DescriptionTreeBuilder.createTree(this.context, d);\n            var f = null;\n            if (this.ah.containsKey(a)) {\n                f = this.ah.item(a);\n            }\n            var g = DescriptionTreeReconciler.b(f, e, b);\n            if (b) {\n                DescriptionTreeReconciler.f(f, g);\n            }\n            else {\n                this.ah.item(a, e);\n            }\n            if (!c) {\n                this.cc(a, g);\n            }\n        }\n    };\n    ComponentRenderer.prototype.provideRefValue = function (a, b, c) {\n        var _this = this;\n        this.b0(a, function () {\n            if (!_this.an.containsKey(a)) {\n                _this.an.addItem(a, ((function () {\n                    var $ret = new ContainerState();\n                    $ret.e = a;\n                    return $ret;\n                })()));\n            }\n            var d = _this.an.item(a);\n            _this.b4(a, b, c, true);\n        });\n    };\n    ComponentRenderer.prototype.removeRefValue = function (a, b) {\n        var _this = this;\n        this.b0(a, function () {\n            if (!_this.an.containsKey(a)) {\n                _this.an.addItem(a, ((function () {\n                    var $ret = new ContainerState();\n                    $ret.e = a;\n                    return $ret;\n                })()));\n            }\n            var c = _this.an.item(a);\n            _this.removeRefValueCore(a, b, true);\n        });\n    };\n    ComponentRenderer.prototype.clearRefValues = function (a) {\n        var _this = this;\n        this.b0(a, function () {\n            if (!_this.an.containsKey(a)) {\n                _this.an.addItem(a, ((function () {\n                    var $ret = new ContainerState();\n                    $ret.e = a;\n                    return $ret;\n                })()));\n            }\n            var b = _this.an.item(a);\n            _this.clearUserRefValues();\n        });\n    };\n    ComponentRenderer.prototype.cc = function (a, b) {\n        var c = this.an.item(a);\n        this.b1(a, c, b);\n    };\n    ComponentRenderer.prototype.cf = function (a, b) {\n        this.bw(a, b, true);\n    };\n    ComponentRenderer.prototype.cl = function (a, b) {\n        this.bw(a, b, false);\n    };\n    ComponentRenderer.prototype.bw = function (a, b, c) {\n        if (!c) {\n            if (this.ag.containsKey(a) && this.ag.item(a)) {\n                return;\n            }\n        }\n        this.ag.item(a, true);\n        var d = true;\n        while (d && this.al.item(a).count > 0) {\n            while (this.al.item(a).count > 0 && this.al.item(a).c().count < 1) {\n                this.al.item(a).b();\n            }\n            if (this.al.item(a).count < 1) {\n                break;\n            }\n            var e = this.al.item(a).c();\n            while (e.count > 0) {\n                var f = e.b();\n                d = this.t(a, b, f);\n                if (!d) {\n                    break;\n                }\n            }\n        }\n        if (d) {\n            this.ag.item(a, false);\n        }\n    };\n    ComponentRenderer.prototype.b1 = function (a, b, c) {\n        var d = new Queue$1(DescriptionTreeAction.$);\n        for (var e = 0; e < c.count; e++) {\n            d.g(c._inner[e]);\n        }\n        if (!this.al.containsKey(a)) {\n            this.al.addItem(a, new Queue$1(Queue$1.$.specialize(DescriptionTreeAction.$)));\n        }\n        this.al.item(a).g(d);\n        this.cl(a, b);\n    };\n    ComponentRenderer.prototype.b2 = function (a, b, c) {\n        for (var d = 0; d < c.count; d++) {\n            this.t(a, b, c._inner[d]);\n        }\n    };\n    ComponentRenderer.prototype.t = function (a, b, c) {\n        switch (c.a) {\n            case 5: return this.u(a, b, c);\n            case 2: return this.v(a, b, c);\n            case 4: return this.w(a, b, c);\n            case 3: return this.x(a, b, c);\n            case 1: return this.y(a, b, c);\n            case 0: return this.z(a, b, c);\n        }\n        return true;\n    };\n    ComponentRenderer.prototype.z = function (a, b, c) {\n        var d = this.bh(a, b, c);\n        this.af(a, b, c, d);\n        return true;\n    };\n    ComponentRenderer.prototype.af = function (a, b, c, d) {\n        var e = this.be(c, a, b);\n        e = this.i.b(ComponentRenderer.platform, e, c);\n        if (c.c != null && c.c.knownType == 9) {\n            this.ad(a, b, c.h(ComponentRenderer.platform), c.c, e, d);\n        }\n        else {\n            this.cj(a, b, c.h(ComponentRenderer.platform), e, c.g, d);\n        }\n        return true;\n    };\n    ComponentRenderer.prototype.ad = function (a, b, c, d, e, f) {\n        var e_3, _a;\n        if (this.ap.containsKey(c)) {\n            try {\n                for (var _b = tslib_1.__values(fromEnum(this.ap.item(c))), _c = _b.next(); !_c.done; _c = _b.next()) {\n                    var g = _c.value;\n                    g(c, f, e);\n                }\n            }\n            catch (e_3_1) {\n                e_3 = { error: e_3_1 };\n            }\n            finally {\n                try {\n                    if (_c && !_c.done && (_a = _b.return))\n                        _a.call(_b);\n                }\n                finally {\n                    if (e_3)\n                        throw e_3.error;\n                }\n            }\n        }\n        this.d.setOrUpdateCollectionOnTarget(a, c, d, this.context, f, e);\n        return true;\n    };\n    ComponentRenderer.prototype.be = function (a, b, c) {\n        if (a.c == null) {\n            return a.f;\n        }\n        switch (a.c.knownType) {\n            case 10: return this.av(a, b, c);\n            case 7: return this.aw(a);\n            case 4: return this.ax(a);\n            case 6: return this.ay(a);\n            case 9: return this.av(a, b, c);\n            case 5: return this.az(a);\n            case 16: return this.a0(a);\n            case 20: return this.bi(a, c);\n            case 15: return null;\n            case 3: return this.a1(a);\n            case 19: return this.bj(a, c);\n            case 8: return this.a3(a, b, c);\n            case 13: return null;\n            case 18: return this.bk(a, c);\n            case 1: return this.a4(a);\n            case 11: return this.a5(a);\n            case 14: return this.a6(a);\n            case 12: return this.a7(a);\n            case 2: return this.a8(a);\n            case 21: return this.a9(a);\n            case 17: return this.ba(a, b, c);\n            case 0: return null;\n        }\n        return null;\n    };\n    ComponentRenderer.prototype.ba = function (a, b, c) {\n        if (typeCast(DescriptionTreeNode.$, a.f) !== null) {\n            var d = a.f;\n            if (d.h == \"EmbeddedRef\") {\n                return this.bc(d.h, a.f, b, c);\n            }\n        }\n        return a.f;\n    };\n    ComponentRenderer.prototype.a9 = function (a) {\n        return a.f;\n    };\n    ComponentRenderer.prototype.a8 = function (a) {\n        return a.f != null ? a.f.toString() : null;\n    };\n    ComponentRenderer.prototype.a7 = function (a) {\n        var b = a.f;\n        var width_ = b.width;\n        var height_ = b.height;\n        var c = { width: width_, height: height_ };\n        return c;\n    };\n    ComponentRenderer.prototype.a6 = function (a) {\n        var b = a.f;\n        var top_ = b.top;\n        var left_ = b.left;\n        var width_ = b.width;\n        var height_ = b.height;\n        var c = { left: left_, top: top_, width: width_, height: height_ };\n        return c;\n    };\n    ComponentRenderer.prototype.a5 = function (a) {\n        var b = a.f;\n        var x_ = b.x;\n        var y_ = b.y;\n        var c = { x: x_, y: y_ };\n        return c;\n    };\n    ComponentRenderer.prototype.a4 = function (a) {\n        if (a.f == null) {\n            if (a.c != null && (a.c.specificType == \"double\" || a.c.specificType == \"float\")) {\n                return NaN;\n            }\n            return 0;\n        }\n        return a.f;\n    };\n    ComponentRenderer.prototype.b = function (a) {\n        if (this.am.containsKey(a)) {\n            var b = this.am.item(a);\n            return b;\n        }\n        var c = new DescriptionRef(a);\n        this.am.addItem(a, c);\n        return c;\n    };\n    ComponentRenderer.prototype.bk = function (a, b) {\n        return a.f == null ? null : this.b(a.f);\n    };\n    ComponentRenderer.prototype.a3 = function (a, b, c) {\n        var d = a.c.specificType;\n        if (d == null) {\n            d = a.c.specificExternalType;\n        }\n        if (typeCast(DescriptionTreeNode.$, a.f) !== null) {\n            var e = a.f;\n            if (e.b(\"Type\")) {\n                d = e.a(\"Type\").b;\n            }\n        }\n        var f = this.bc(d, a.f, b, c);\n        return f;\n    };\n    ComponentRenderer.prototype.bj = function (a, b) {\n        return a.f == null ? null : this.b(a.f);\n    };\n    ComponentRenderer.prototype.a1 = function (a) {\n        return a.f;\n    };\n    ComponentRenderer.prototype.bi = function (a, b) {\n        return a.f == null ? null : this.b(a.f);\n    };\n    ComponentRenderer.prototype.bm = function (a) {\n        return a;\n    };\n    ComponentRenderer.prototype.a0 = function (a) {\n        var b = a.f;\n        if (b == null) {\n            return null;\n        }\n        var c = new Array(b.length);\n        for (var d = 0; d < b.length; d++) {\n            c[d] = this.bm(b[d]);\n        }\n        return c;\n    };\n    ComponentRenderer.prototype.az = function (a) {\n        return this.bm(a.f);\n    };\n    ComponentRenderer.prototype.ay = function (a) {\n        var b = a.f;\n        if (b == null) {\n            return null;\n        }\n        var c = new Array(b.length);\n        for (var d = 0; d < b.length; d++) {\n            c[d] = this.bl(b[d]);\n        }\n        return c;\n    };\n    ComponentRenderer.prototype.bl = function (a) {\n        return a;\n    };\n    ComponentRenderer.prototype.ax = function (a) {\n        return this.bl(a.f);\n    };\n    ComponentRenderer.prototype.aw = function (a) {\n        return a.f;\n    };\n    ComponentRenderer.prototype.addPropertyUpdatingListener = function (a, b) {\n        if (!this.ap.containsKey(a)) {\n            this.ap.addItem(a, new List$1(Delegate_$type, 0));\n        }\n        this.ap.item(a).add(b);\n    };\n    ComponentRenderer.prototype.addReferenceLookupListener = function (a) {\n        this.ar.add(a);\n    };\n    ComponentRenderer.prototype.removePropertyUpdatingListener = function (a, b) {\n        if (this.ap.containsKey(a)) {\n            this.ap.item(a).remove(b);\n            if (this.ap.item(a).count == 0) {\n                this.ap.removeItem(a);\n            }\n        }\n    };\n    ComponentRenderer.prototype.addNamespaceLookupListener = function (a) {\n        this.as.add(a);\n    };\n    ComponentRenderer.prototype.removeNamespaceLookupListener = function (a) {\n        this.as.remove(a);\n    };\n    ComponentRenderer.prototype.av = function (a, b, c) {\n        if (a.f == null) {\n            return null;\n        }\n        var d = a.f;\n        var e = new List$1(Base.$, 0);\n        var f = a.c.specificType;\n        if (f == null) {\n            f = a.c.specificExternalType;\n        }\n        if (a.c.knownType == 9) {\n            f = a.c.collectionElementType;\n            if (f == null) {\n                f = a.c.specificExternalType;\n            }\n        }\n        for (var g = 0; g < d.length; g++) {\n            var h = f;\n            if (typeCast(DescriptionTreeNode.$, d[g]) !== null) {\n                var i = d[g];\n                if (i.b(\"Type\")) {\n                    h = i.a(\"Type\").b;\n                }\n            }\n            var j = this.bc(h, d[g], b, c);\n            e.add1(j);\n        }\n        return e.toArray();\n    };\n    ComponentRenderer.prototype.cj = function (a, b, c, d, e, f) {\n        var _this = this;\n        if (typeCast(DescriptionRef.$, d) !== null) {\n            var g = d;\n            var h = false;\n            if (e != null && typeof e === 'string') {\n                if (this.n(e)) {\n                    var i = this.c(e);\n                    if (Base.equalsStatic(i, d)) {\n                        h = true;\n                    }\n                    else {\n                        i.i(f, c);\n                    }\n                }\n            }\n            if (this.o(d)) {\n                d = this.bg(d);\n                this.ck(f, c, d, e);\n            }\n            var j = null;\n            j = function (k, l) {\n                var m = _this.bg(k);\n                _this.ck(f, c, m, e);\n            };\n            if (!h) {\n                g.f(f, c, j);\n            }\n            return;\n        }\n        this.ck(f, c, d, e);\n    };\n    ComponentRenderer.prototype.hasUserRef = function (a) {\n        return this.aq.containsKey(a);\n    };\n    Object.defineProperty(ComponentRenderer.prototype, \"shouldNamespaceSystemRefValues\", {\n        get: function () {\n            return this._shouldNamespaceSystemRefValues;\n        },\n        set: function (a) {\n            this._shouldNamespaceSystemRefValues = a;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ComponentRenderer.prototype.b4 = function (a, b, c, d) {\n        var e = null;\n        if (d) {\n            if (this.aq.containsKey(b)) {\n                e = this.aq.item(b);\n            }\n            this.aq.item(b, c);\n        }\n        else {\n            if (this.shouldNamespaceSystemRefValues) {\n                var f = \"\";\n                if (this.as != null && this.as.count > 0) {\n                    for (var g = 0; g < this.as.count; g++) {\n                        f = this.as._inner[g](a);\n                    }\n                }\n                if (!stringIsNullOrEmpty(f)) {\n                    b = f + \"/\" + b;\n                }\n            }\n            if (this.ao.containsKey(b)) {\n                e = this.ao.item(b);\n            }\n            this.ao.item(b, c);\n        }\n        if (this.am.containsKey(b)) {\n            this.am.item(b).e(e, c);\n        }\n    };\n    ComponentRenderer.prototype.removeRefValueCore = function (a, b, c) {\n        var d = null;\n        if (c) {\n            if (this.aq.containsKey(b)) {\n                d = this.aq.item(b);\n            }\n            this.aq.removeItem(b);\n        }\n        else {\n            if (this.shouldNamespaceSystemRefValues) {\n                var e = \"\";\n                if (this.as != null && this.as.count > 0) {\n                    for (var f = 0; f < this.as.count; f++) {\n                        e = this.as._inner[f](a);\n                    }\n                }\n                if (!stringIsNullOrEmpty(e)) {\n                    b = e + \"/\" + b;\n                }\n            }\n            if (this.ao.containsKey(b)) {\n                d = this.ao.item(b);\n            }\n            this.ao.removeItem(b);\n        }\n        if (this.am.containsKey(b)) {\n            this.am.item(b).e(d, this.bg(this.am.item(b)));\n            if (this.am.item(b).b <= 0) {\n                this.am.item(b).g();\n                this.am.removeItem(b);\n            }\n        }\n    };\n    ComponentRenderer.prototype.clearUserRefValues = function () {\n        var e_4, _a, e_5, _b;\n        var a = new List$1(String_$type, 0);\n        try {\n            for (var _c = tslib_1.__values(fromEnum(this.aq.keys)), _d = _c.next(); !_d.done; _d = _c.next()) {\n                var b = _d.value;\n                a.add(b);\n            }\n        }\n        catch (e_4_1) {\n            e_4 = { error: e_4_1 };\n        }\n        finally {\n            try {\n                if (_d && !_d.done && (_a = _c.return))\n                    _a.call(_c);\n            }\n            finally {\n                if (e_4)\n                    throw e_4.error;\n            }\n        }\n        try {\n            for (var _e = tslib_1.__values(fromEnum(a)), _f = _e.next(); !_f.done; _f = _e.next()) {\n                var c = _f.value;\n                this.removeRefValueCore(null, c, true);\n            }\n        }\n        catch (e_5_1) {\n            e_5 = { error: e_5_1 };\n        }\n        finally {\n            try {\n                if (_f && !_f.done && (_b = _e.return))\n                    _b.call(_e);\n            }\n            finally {\n                if (e_5)\n                    throw e_5.error;\n            }\n        }\n    };\n    ComponentRenderer.prototype.o = function (a) {\n        return this.aq.containsKey(a.d) || this.ao.containsKey(a.d);\n    };\n    ComponentRenderer.prototype.bg = function (a) {\n        if (this.aq.containsKey(a.d)) {\n            return this.aq.item(a.d);\n        }\n        if (this.ao.containsKey(a.d)) {\n            return this.ao.item(a.d);\n        }\n        return null;\n    };\n    ComponentRenderer.prototype.n = function (a) {\n        return this.am.containsKey(a);\n    };\n    ComponentRenderer.prototype.c = function (a) {\n        return this.am.item(a);\n    };\n    ComponentRenderer.prototype.bh = function (a, b, c) {\n        return b.f(c.b.f);\n    };\n    ComponentRenderer.prototype.y = function (a, b, c) {\n        var d = this.bh(a, b, c);\n        this.ac(a, b, c, d);\n        return true;\n    };\n    ComponentRenderer.prototype.ac = function (a, b, c, d) {\n        this.d.resetPropertyOnTarget(a, c.h(ComponentRenderer.platform), c.c, d);\n        return true;\n    };\n    ComponentRenderer.prototype.x = function (a, b, c) {\n        if (c.b == null) {\n            return this.ab(a, b, c);\n        }\n        else {\n            var d = this.bh(a, b, c);\n            this.ce(a, b, c, d);\n        }\n        return true;\n    };\n    ComponentRenderer.prototype.ce = function (a, b, c, d) {\n        var e = c.h(ComponentRenderer.platform);\n        var f = this.bc(c.c.collectionElementType, c.f, a, b);\n        this.d.replaceItemInCollection(e, c.c, d, c.d, f);\n        if (c.g != null && typeCast(DescriptionTreeNode.$, c.g) !== null) {\n            var g = c.g.f;\n            if (g >= 0) {\n                var h = b.f(g);\n                if (h != null) {\n                    this.bv(a, h, b);\n                }\n            }\n        }\n    };\n    ComponentRenderer.prototype.ab = function (a, b, c) {\n        var _this = this;\n        var d = this.d.getRootObject(a);\n        if (d != null) {\n            this.bv(a, d, b);\n        }\n        if (!(typeCast(DescriptionTreeNode.$, c.f) !== null)) {\n            throw new NotImplementedException(0);\n        }\n        var e = c.f;\n        var f = false;\n        this.d.replaceRootItem(a, e.h, this.context, function (g) {\n            var h = _this.d.getRootObject(a);\n            b.g(a, e.f, h, e, runOn(_this, _this.b4));\n            var i = _this.at(e);\n            _this.b2(a, b, i);\n            f = true;\n            if (g) {\n                _this.cf(a, b);\n            }\n        });\n        return f;\n    };\n    ComponentRenderer.prototype.bv = function (a, b, c) {\n        var e_6, _a;\n        var d = this.au(a, b, c);\n        try {\n            for (var _b = tslib_1.__values(fromEnum(this.am.values)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var e = _c.value;\n                e.h(b);\n            }\n        }\n        catch (e_6_1) {\n            e_6 = { error: e_6_1 };\n        }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return))\n                    _a.call(_b);\n            }\n            finally {\n                if (e_6)\n                    throw e_6.error;\n            }\n        }\n        if (d != -1) {\n            c.h(a, d, runOn(this, this.removeRefValueCore));\n        }\n        this.f.b(ComponentRenderer.platform, b);\n    };\n    ComponentRenderer.prototype.au = function (a, b, c) {\n        return c.d(b);\n    };\n    ComponentRenderer.prototype.w = function (a, b, c) {\n        if (c.b == null) {\n            return this.aa(a, b, c);\n        }\n        else {\n            var d = this.bh(a, b, c);\n            this.b5(a, b, c, d);\n        }\n        return true;\n    };\n    ComponentRenderer.prototype.b5 = function (a, b, c, d) {\n        var e = c.h(ComponentRenderer.platform);\n        this.d.removeItemFromCollection(e, c.c, d, c.e);\n        if (c.g != null && typeCast(DescriptionTreeNode.$, c.g) !== null) {\n            var f = c.g.f;\n            if (f >= 0) {\n                var g = b.f(f);\n                if (g != null) {\n                    this.bv(a, g, b);\n                }\n            }\n        }\n    };\n    ComponentRenderer.prototype.aa = function (a, b, c) {\n        var _this = this;\n        var d = this.d.getRootObject(a);\n        if (d != null) {\n            this.bv(a, d, b);\n        }\n        var e = false;\n        this.d.removeRootItem(a, this.context, function (f) {\n            e = true;\n            if (f) {\n                _this.cf(a, b);\n            }\n        });\n        return e;\n    };\n    ComponentRenderer.prototype.v = function (a, b, c) {\n        if (c.b == null) {\n            return this.j(a, b, c);\n        }\n        else {\n            var d = this.bh(a, b, c);\n            this.bo(a, b, c, d);\n        }\n        return true;\n    };\n    ComponentRenderer.prototype.j = function (a, b, c) {\n        var _this = this;\n        if (!(typeCast(DescriptionTreeNode.$, c.f) !== null)) {\n            throw new NotImplementedException(0);\n        }\n        var d = c.f;\n        var e = false;\n        this.d.replaceRootItem(a, d.h, this.context, function (f) {\n            var g = _this.d.getRootObject(a);\n            b.g(a, d.f, g, d, runOn(_this, _this.b4));\n            var h = _this.at(d);\n            _this.b2(a, b, h);\n            e = true;\n            if (f) {\n                _this.cf(a, b);\n            }\n        });\n        return e;\n    };\n    ComponentRenderer.prototype.bo = function (a, b, c, d) {\n        var e = c.h(ComponentRenderer.platform);\n        var f = c.c.collectionElementType;\n        if (typeCast(DescriptionTreeNode.$, c.f) !== null) {\n            var g = c.f;\n            if (g.b(\"Type\")) {\n                f = g.a(\"Type\").b;\n            }\n        }\n        var h = this.bc(f, c.f, a, b);\n        this.d.addItemToCollection(e, c.c, d, c.d, h);\n    };\n    ComponentRenderer.prototype.bc = function (a, b, c, d) {\n        if (this.r(a)) {\n            return b;\n        }\n        var e = null;\n        if (b != null && typeCast(DescriptionTreeNode.$, b) !== null) {\n            var f = b;\n            if (f.b(\"Name\")) {\n                var g = f.a(\"Name\").b;\n                if (!stringIsNullOrEmpty(g)) {\n                    if (this.shouldNamespaceSystemRefValues) {\n                        var h = \"\";\n                        if (this.as != null && this.as.count > 0) {\n                            for (var i = 0; i < this.as.count; i++) {\n                                h = this.as._inner[i](c);\n                            }\n                        }\n                        if (!stringIsNullOrEmpty(h)) {\n                            g = h + \"/\" + g;\n                        }\n                    }\n                    if (this.ao.containsKey(g)) {\n                        var j = this.ao.item(g);\n                        e = j;\n                    }\n                }\n            }\n            if (e == null) {\n                e = this.context.j(a, c);\n            }\n        }\n        else {\n            e = this.context.j(a, c);\n        }\n        if (b == null) {\n            return e;\n        }\n        if (typeCast(DescriptionTreeNode.$, b) !== null) {\n            var k = b;\n            if (k.h == \"EmbeddedRef\") {\n                var l = \"uuid\";\n                var m = null;\n                for (var n = 0; n < k.e().count; n++) {\n                    if (k.e()._inner[n].c == \"RefType\") {\n                        l = k.e()._inner[n].b;\n                    }\n                    if (k.e()._inner[n].c == \"Value\") {\n                        m = k.e()._inner[n].b;\n                    }\n                }\n                if (m != null) {\n                    for (var o = 0; o < this.ar.count; o++) {\n                        var p = this.ar._inner[o](c, l, m);\n                        if (p != null) {\n                            return p;\n                        }\n                    }\n                    return null;\n                }\n            }\n            else {\n                d.g(c, k.f, e, k, runOn(this, this.b4));\n                var q = this.at(k);\n                this.b2(c, d, q);\n            }\n        }\n        if (typeof b === 'string' && a.toLowerCase() != \"string\") {\n            return this.a2(a, b);\n        }\n        if (a == \"object\" || a == \"Object\") {\n            return b;\n        }\n        return e;\n    };\n    ComponentRenderer.prototype.r = function (a) {\n        return a == \"int\" || a == \"Int32\" || a == \"short\" || a == \"Int16\" || a == \"double\" || a == \"Double\" || a == \"float\" || a == \"Float\" || a == \"Single\" || a == \"single\" || a == \"DateTime\" || a == \"decimal\" || a == \"Decimal\" || a == \"long\" || a == \"Int64\" || a == \"byte\" || a == \"bool\" || a == \"string\" || a == \"String\";\n    };\n    ComponentRenderer.prototype.a2 = function (a, b) {\n        return this.context.f(a, b);\n    };\n    ComponentRenderer.prototype.at = function (a) {\n        var b = a.e();\n        var c = new List$1(DescriptionTreeAction.$, 0);\n        for (var d = 0; d < b.count; d++) {\n            var e = new DescriptionTreeAction();\n            e.a = 0;\n            e.i = b._inner[d].c;\n            e.c = b._inner[d].a;\n            e.b = a;\n            e.f = b._inner[d].b;\n            c.add(e);\n        }\n        return c;\n    };\n    ComponentRenderer.prototype.u = function (a, b, c) {\n        if (c.b == null) {\n            return this.m(a, b, c);\n        }\n        else {\n            var d = this.bh(a, b, c);\n            this.bs(a, b, c, d);\n        }\n        return true;\n    };\n    ComponentRenderer.prototype.bs = function (a, b, c, d) {\n        var e = c.h(ComponentRenderer.platform);\n        this.d.clearCollection(d, e, c.c);\n        if (c.g != null && typeCast(Array_$type, c.g) !== null) {\n            var f = c.g;\n            for (var g = 0; g < f.length; g++) {\n                var h = f[g];\n                if (h != null && typeCast(DescriptionTreeNode.$, h) !== null) {\n                    var i = h.f;\n                    if (i >= 0) {\n                        var j = b.f(i);\n                        if (j != null) {\n                            this.bv(a, j, b);\n                        }\n                    }\n                }\n            }\n        }\n    };\n    ComponentRenderer.prototype.ck = function (a, b, c, d) {\n        var e_7, _a;\n        if (this.ap.containsKey(b)) {\n            try {\n                for (var _b = tslib_1.__values(fromEnum(this.ap.item(b))), _c = _b.next(); !_c.done; _c = _b.next()) {\n                    var e = _c.value;\n                    e(b, a, c);\n                }\n            }\n            catch (e_7_1) {\n                e_7 = { error: e_7_1 };\n            }\n            finally {\n                try {\n                    if (_c && !_c.done && (_a = _b.return))\n                        _a.call(_b);\n                }\n                finally {\n                    if (e_7)\n                        throw e_7.error;\n                }\n            }\n        }\n        this.d.setPropertyValue(a, b, c, d);\n    };\n    ComponentRenderer.prototype.bf = function (a, b) {\n        return this.d.getPropertyValue(a, b);\n    };\n    ComponentRenderer.prototype.m = function (a, b, c) {\n        return this.l(a, b);\n    };\n    ComponentRenderer.prototype.l = function (a, b) {\n        var _this = this;\n        var c = this.d.getRootObject(a);\n        if (c != null) {\n            this.bv(a, c, b);\n        }\n        var d = false;\n        this.d.clearContainer(a, this.context, function (e) {\n            d = true;\n            if (e) {\n                _this.cf(a, b);\n            }\n        });\n        return d;\n    };\n    ComponentRenderer.$t = markType(ComponentRenderer, 'ComponentRenderer');\n    ComponentRenderer.platform = 3;\n    return ComponentRenderer;\n}(Base));\nexport { ComponentRenderer };\n//# sourceMappingURL=ComponentRenderer.js.map\n"]},"metadata":{},"sourceType":"module"}
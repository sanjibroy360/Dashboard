{"ast":null,"code":"import { types } from \"../store/types\";\nimport { put, takeLatest, call } from \"redux-saga/effects\";\nimport axios from \"axios\";\naxios.defaults.baseURL = \"https://8dd5cd27-a5cb-4244-b2b5-0ed958f59494.mock.pstmn.io/api/v1/investments\";\naxios.defaults.headers.post[\"Content-Type\"] = `application/json`;\n\nfunction* fetchAllMutualFunds(func) {\n  try {\n    yield put({\n      type: types.FETCHING_DATA\n    });\n    let response = yield call(() => fetchData(\"/mutual-funds\"));\n    if (response) yield put({\n      type: types.GET_ALL_ETF,\n      payload: response.mutual_funds\n    });\n    console.log(response.mutual_funds, response);\n  } catch (error) {}\n}\n\nasync function fetchData(endpoint) {\n  let res = await axios.get(endpoint);\n\n  if (res.status) {\n    return res.data;\n  } else {\n    return null;\n  }\n}\n\nfunction* fetchAllEtfs(func) {\n  yield put({\n    type: types.FETCHING_DATA\n  });\n  let response = yield call(() => fetchData(\"/etf\"));\n  i;\n  yield put({\n    type: types.GET_ALL_ETF,\n    payload: response.etf\n  });\n  console.log(response.etf, response);\n}\n\nexport function* watchRequirements() {\n  console.log(\"watcher\");\n  yield takeLatest(types.FETCH_ALL_MUTUAL_FUNDS, fetchAllMutualFunds);\n  yield takeLatest(types.FETCH_ALL_ETF, fetchAllEtfs);\n}","map":{"version":3,"sources":["/home/sanjib/Documents/altcampus/dashboard/src/saga/saga.js"],"names":["types","put","takeLatest","call","axios","defaults","baseURL","headers","post","fetchAllMutualFunds","func","type","FETCHING_DATA","response","fetchData","GET_ALL_ETF","payload","mutual_funds","console","log","error","endpoint","res","get","status","data","fetchAllEtfs","i","etf","watchRequirements","FETCH_ALL_MUTUAL_FUNDS","FETCH_ALL_ETF"],"mappings":"AAAA,SAASA,KAAT,QAAsB,gBAAtB;AACA,SAASC,GAAT,EAAcC,UAAd,EAA0BC,IAA1B,QAAsC,oBAAtC;AAEA,OAAOC,KAAP,MAAkB,OAAlB;AAEAA,KAAK,CAACC,QAAN,CAAeC,OAAf,GACE,+EADF;AAEAF,KAAK,CAACC,QAAN,CAAeE,OAAf,CAAuBC,IAAvB,CAA4B,cAA5B,IAA+C,kBAA/C;;AAEA,UAAUC,mBAAV,CAA8BC,IAA9B,EAAoC;AAClC,MAAI;AACF,UAAMT,GAAG,CAAC;AAAEU,MAAAA,IAAI,EAAEX,KAAK,CAACY;AAAd,KAAD,CAAT;AACA,QAAIC,QAAQ,GAAG,MAAMV,IAAI,CAAC,MAAMW,SAAS,CAAC,eAAD,CAAhB,CAAzB;AACA,QAAID,QAAJ,EACE,MAAMZ,GAAG,CAAC;AAAEU,MAAAA,IAAI,EAAEX,KAAK,CAACe,WAAd;AAA2BC,MAAAA,OAAO,EAAEH,QAAQ,CAACI;AAA7C,KAAD,CAAT;AACFC,IAAAA,OAAO,CAACC,GAAR,CAAYN,QAAQ,CAACI,YAArB,EAAmCJ,QAAnC;AACD,GAND,CAME,OAAOO,KAAP,EAAc,CAAE;AACnB;;AAED,eAAeN,SAAf,CAAyBO,QAAzB,EAAmC;AACjC,MAAIC,GAAG,GAAG,MAAMlB,KAAK,CAACmB,GAAN,CAAUF,QAAV,CAAhB;;AACA,MAAIC,GAAG,CAACE,MAAR,EAAgB;AACd,WAAOF,GAAG,CAACG,IAAX;AACD,GAFD,MAEO;AACL,WAAO,IAAP;AACD;AACF;;AAED,UAAUC,YAAV,CAAuBhB,IAAvB,EAA6B;AAC3B,QAAMT,GAAG,CAAC;AAAEU,IAAAA,IAAI,EAAEX,KAAK,CAACY;AAAd,GAAD,CAAT;AACA,MAAIC,QAAQ,GAAG,MAAMV,IAAI,CAAC,MAAMW,SAAS,CAAC,MAAD,CAAhB,CAAzB;AACAa,EAAAA,CAAC;AACD,QAAM1B,GAAG,CAAC;AAAEU,IAAAA,IAAI,EAAEX,KAAK,CAACe,WAAd;AAA2BC,IAAAA,OAAO,EAAEH,QAAQ,CAACe;AAA7C,GAAD,CAAT;AACAV,EAAAA,OAAO,CAACC,GAAR,CAAYN,QAAQ,CAACe,GAArB,EAA0Bf,QAA1B;AACD;;AAED,OAAO,UAAUgB,iBAAV,GAA8B;AACnCX,EAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACA,QAAMjB,UAAU,CAACF,KAAK,CAAC8B,sBAAP,EAA+BrB,mBAA/B,CAAhB;AACA,QAAMP,UAAU,CAACF,KAAK,CAAC+B,aAAP,EAAsBL,YAAtB,CAAhB;AACD","sourcesContent":["import { types } from \"../store/types\";\nimport { put, takeLatest, call } from \"redux-saga/effects\";\n\nimport axios from \"axios\";\n\naxios.defaults.baseURL =\n  \"https://8dd5cd27-a5cb-4244-b2b5-0ed958f59494.mock.pstmn.io/api/v1/investments\";\naxios.defaults.headers.post[\"Content-Type\"] = `application/json`;\n\nfunction* fetchAllMutualFunds(func) {\n  try {\n    yield put({ type: types.FETCHING_DATA });\n    let response = yield call(() => fetchData(\"/mutual-funds\"));\n    if (response)\n      yield put({ type: types.GET_ALL_ETF, payload: response.mutual_funds });\n    console.log(response.mutual_funds, response);\n  } catch (error) {}\n}\n\nasync function fetchData(endpoint) {\n  let res = await axios.get(endpoint);\n  if (res.status) {\n    return res.data;\n  } else {\n    return null;\n  }\n}\n\nfunction* fetchAllEtfs(func) {\n  yield put({ type: types.FETCHING_DATA });\n  let response = yield call(() => fetchData(\"/etf\"));\n  i\n  yield put({ type: types.GET_ALL_ETF, payload: response.etf });\n  console.log(response.etf, response);\n}\n\nexport function* watchRequirements() {\n  console.log(\"watcher\");\n  yield takeLatest(types.FETCH_ALL_MUTUAL_FUNDS, fetchAllMutualFunds);\n  yield takeLatest(types.FETCH_ALL_ETF, fetchAllEtfs);\n}\n"]},"metadata":{},"sourceType":"module"}